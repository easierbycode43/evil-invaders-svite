import{S as Y,i as P,s as C,C as ge,c as p,a as _,m as $,t as c,b as g,d as y,e as V,f as pe,g as B,h as F,j as _e,k as $e,R as Q,P as M,l as D,n as X,o as k,p as ye,q as de,r as x,u as he,T as be,v as Z,w as I,x as we,y as E,z as L,A as T,B as K,D as ee,E as G,F as H,G as j,H as q,I as z,J as ke,K as W,L as te,M as xe,N as ve,O as De,Q as R,U as Xe,V as Se,W as Ye,X as Pe,Y as Ce,Z as Ee,_ as Ne,$ as Be}from"./vendor.04937f6e.js";const Me=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(i){if(i.ep)return;i.ep=!0;const n=r(i);fetch(i.href,n)}};Me();function Oe(l){let e,r,t,i;const n=[{width:N},{height:50},{fillColor:7829367},l[4]];let s={};for(let a=0;a<n.length;a+=1)s=F(s,n[a]);return e=new Q({props:s}),t=new Q({props:{x:-N/2,originX:0,originY:.5,width:M.Math.Clamp(N*l[2],10,N),height:50,fillColor:12303291}}),{c(){p(e.$$.fragment),r=D(),p(t.$$.fragment)},l(a){_(e.$$.fragment,a),r=X(a),_(t.$$.fragment,a)},m(a,f){$(e,a,f),k(a,r,f),$(t,a,f),i=!0},p(a,f){const o=f&16?ye(n,[f&0&&{width:N},n[1],n[2],f&16&&de(a[4])]):{};e.$set(o);const m={};f&4&&(m.width=M.Math.Clamp(N*a[2],10,N)),t.$set(m)},i(a){i||(c(e.$$.fragment,a),c(t.$$.fragment,a),i=!0)},o(a){g(e.$$.fragment,a),g(t.$$.fragment,a),i=!1},d(a){y(e,a),a&&x(r),y(t,a)}}}function Re(l){let e,r;return e=new ge({props:{x:l[0],y:l[1],width:N,height:50,$$slots:{default:[Oe]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,i){$(e,t,i),r=!0},p(t,[i]){const n={};i&1&&(n.x=t[0]),i&2&&(n.y=t[1]),i&84&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}const N=400;function Ae(l,e,r){const t=["x","y","progress"];let i=V(e,t),n,{x:s}=e,{y:a}=e,{progress:f=0}=e;const o=pe(f,{duration:200,easing:he});return B(l,o,m=>r(2,n=m)),l.$$set=m=>{e=F(F({},e),_e(m)),r(4,i=V(e,t)),"x"in m&&r(0,s=m.x),"y"in m&&r(1,a=m.y),"progress"in m&&r(5,f=m.progress)},l.$$.update=()=>{l.$$.dirty&32&&$e(o,n=f,n)},[s,a,n,o,i,f]}class Ie extends Y{constructor(e){super();P(this,e,Ae,Re,C,{x:0,y:1,progress:5})}}function Le(l){let e,r;return e=new be({props:{depth:-1,x:0,y:0,width:800,height:600,originX:0,originY:0,texture:"textures/starfield",tilePositionY:l[0]}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,i){$(e,t,i),r=!0},p(t,[i]){const n={};i&1&&(n.tilePositionY=t[0]),e.$set(n)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function Te(l,e,r){let t=0;return Z("step",()=>{r(0,t-=2)}),[t]}class We extends Y{constructor(e){super();P(this,e,Te,Le,C,{})}}function Fe(l){let e,r;return e=new I({props:{x:l[0],y:l[1],depth:30,animation:"anims/explosion",scale:.75}}),e.$on("animationcomplete",l[2]),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,i){$(e,t,i),r=!0},p(t,[i]){const n={};i&1&&(n.x=t[0]),i&2&&(n.y=t[1]),e.$set(n)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function Ke(l,e,r){let{x:t}=e,{y:i}=e;function n(s){we.call(this,l,s)}return l.$$set=s=>{"x"in s&&r(0,t=s.x),"y"in s&&r(1,i=s.y)},[t,i,n]}class Ge extends Y{constructor(e){super();P(this,e,Ke,Fe,C,{x:0,y:1})}}function He(l){let e,r,t;function i(s){l[14](s)}let n={depth:l[3],name:l[0],texture:l[2],x:l[4],y:l[5],$$slots:{default:[qe]},$$scope:{ctx:l}};return l[9]!==void 0&&(n.instance=l[9]),e=new I({props:n}),G.push(()=>H(e,"instance",i)),{c(){p(e.$$.fragment)},l(s){_(e.$$.fragment,s)},m(s,a){$(e,s,a),t=!0},p(s,a){const f={};a&8&&(f.depth=s[3]),a&1&&(f.name=s[0]),a&4&&(f.texture=s[2]),a&16&&(f.x=s[4]),a&32&&(f.y=s[5]),a&134850&&(f.$$scope={dirty:a,ctx:s}),!r&&a&512&&(r=!0,f.instance=s[9],j(()=>r=!1)),e.$set(f)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){y(e,s)}}}function je(l){let e,r;return e=new Ge({props:{x:l[11].x,y:l[11].y-32}}),e.$on("animationcomplete",l[12]),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,i){$(e,t,i),r=!0},p(t,i){const n={};i&2048&&(n.x=t[11].x),i&2048&&(n.y=t[11].y-32),e.$set(n)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function qe(l){let e,r,t,i;return e=new q({props:{with:l[1],overlapOnly:!0}}),e.$on("collide",l[13]),t=new z({props:{velocityY:l[7],velocityX:l[6]}}),{c(){p(e.$$.fragment),r=D(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=X(n),_(t.$$.fragment,n)},m(n,s){$(e,n,s),k(n,r,s),$(t,n,s),i=!0},p(n,s){const a={};s&2&&(a.with=n[1]),e.$set(a);const f={};s&128&&(f.velocityY=n[7]),s&64&&(f.velocityX=n[6]),t.$set(f)},i(n){i||(c(e.$$.fragment,n),c(t.$$.fragment,n),i=!0)},o(n){g(e.$$.fragment,n),g(t.$$.fragment,n),i=!1},d(n){y(e,n),n&&x(r),y(t,n)}}}function ze(l){let e,r,t,i;const n=[je,He],s=[];function a(f,o){return f[10]?0:1}return e=a(l),r=s[e]=n[e](l),{c(){r.c(),t=E()},l(f){r.l(f),t=E()},m(f,o){s[e].m(f,o),k(f,t,o),i=!0},p(f,[o]){let m=e;e=a(f),e===m?s[e].p(f,o):(L(),g(s[m],1,1,()=>{s[m]=null}),T(),r=s[e],r?r.p(f,o):(r=s[e]=n[e](f),r.c()),c(r,1),r.m(t.parentNode,t))},i(f){i||(c(r),i=!0)},o(f){g(r),i=!1},d(f){s[e].d(f),f&&x(t)}}}function Je(l,e,r){let{name:t}=e,{target:i}=e,{texture:n}=e,{depth:s=0}=e,{x:a}=e,{y:f}=e,{velocityX:o=0}=e,{velocityY:m=0}=e,{onDestroy:d}=e,u,h=!1,w,S=K().time.addEvent({callback:()=>{h||d()},delay:3e3});ee(()=>()=>S.destroy());const O=()=>d(),ce=()=>{r(10,h=!0),r(11,w={x:u.x,y:u.y})};function me(b){u=b,r(9,u)}return l.$$set=b=>{"name"in b&&r(0,t=b.name),"target"in b&&r(1,i=b.target),"texture"in b&&r(2,n=b.texture),"depth"in b&&r(3,s=b.depth),"x"in b&&r(4,a=b.x),"y"in b&&r(5,f=b.y),"velocityX"in b&&r(6,o=b.velocityX),"velocityY"in b&&r(7,m=b.velocityY),"onDestroy"in b&&r(8,d=b.onDestroy)},[t,i,n,s,a,f,o,m,d,u,h,w,O,ce,me]}class ne extends Y{constructor(e){super();P(this,e,Je,ze,C,{name:0,target:1,texture:2,depth:3,x:4,y:5,velocityX:6,velocityY:7,onDestroy:8})}}const J=W(0),A=W(3),re=W(0),U=W(!1),se=ke([A,U],([l,e])=>l<=0?"gameover":e?"win":"playing"),Ue=()=>{J.set(0),A.set(3),U.set(!1)};function Ve(l){let e,r,t,i;return e=new q({props:{with:["enemies","enemyBullet"],overlapOnly:!0}}),e.$on("collide",l[4]),t=new z({props:{velocityX:l[3],collideWorldBounds:!0}}),{c(){p(e.$$.fragment),r=D(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=X(n),_(t.$$.fragment,n)},m(n,s){$(e,n,s),k(n,r,s),$(t,n,s),i=!0},p(n,s){const a={};s&8&&(a.velocityX=n[3]),t.$set(a)},i(n){i||(c(e.$$.fragment,n),c(t.$$.fragment,n),i=!0)},o(n){g(e.$$.fragment,n),g(t.$$.fragment,n),i=!1},d(n){y(e,n),n&&x(r),y(t,n)}}}function Qe(l){let e,r,t;function i(s){l[5](s)}let n={depth:10,name:"player",texture:"textures/player",x:l[1],y:l[2],$$slots:{default:[Ve]},$$scope:{ctx:l}};return l[0]!==void 0&&(n.instance=l[0]),e=new I({props:n}),G.push(()=>H(e,"instance",i)),{c(){p(e.$$.fragment)},l(s){_(e.$$.fragment,s)},m(s,a){$(e,s,a),t=!0},p(s,[a]){const f={};a&2&&(f.x=s[1]),a&4&&(f.y=s[2]),a&520&&(f.$$scope={dirty:a,ctx:s}),!r&&a&1&&(r=!0,f.instance=s[0],j(()=>r=!1)),e.$set(f)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){y(e,s)}}}const ie=200;function Ze(l,e,r){let{x:t}=e,{y:i}=e,{instance:n=void 0}=e;const{spawn:s}=te(),a=K(),f={left:a.input.keyboard.addKey("left"),right:a.input.keyboard.addKey("right"),up:a.input.keyboard.addKey("up"),shoot:a.input.keyboard.addKey("SPACE")};let o=0;Z("step",()=>{!f.left.isDown&&!f.right.isDown||f.left.isDown&&f.right.isDown?r(3,o=0):f.left.isDown?r(3,o=-ie):f.right.isDown&&r(3,o=ie),M.Input.Keyboard.JustDown(f.shoot)&&s(ne,{name:"playerBullet",texture:"textures/player/bullet",target:"enemy",depth:10,x:n.x,y:n.y-8,velocityY:-300})});const m=()=>A.update(u=>u-1);function d(u){n=u,r(0,n)}return l.$$set=u=>{"x"in u&&r(1,t=u.x),"y"in u&&r(2,i=u.y),"instance"in u&&r(0,n=u.instance)},[n,t,i,o,m,d]}class et extends Y{constructor(e){super();P(this,e,Ze,Qe,C,{x:1,y:2,instance:0})}}function tt(l){let e,r,t,i;return e=new z({props:{velocityX:l[2],collideWorldBounds:!0}}),t=new q({props:{with:"playerBullet",overlapOnly:!0}}),t.$on("collide",function(){xe(l[3])&&l[3].apply(this,arguments)}),{c(){p(e.$$.fragment),r=D(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=X(n),_(t.$$.fragment,n)},m(n,s){$(e,n,s),k(n,r,s),$(t,n,s),i=!0},p(n,s){l=n;const a={};s&4&&(a.velocityX=l[2]),e.$set(a)},i(n){i||(c(e.$$.fragment,n),c(t.$$.fragment,n),i=!0)},o(n){g(e.$$.fragment,n),g(t.$$.fragment,n),i=!1},d(n){y(e,n),n&&x(r),y(t,n)}}}function nt(l){let e,r;return e=new I({props:{name:"enemy",x:l[0],y:l[1],animation:"anims/enemy/fly",$$slots:{default:[tt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,i){$(e,t,i),r=!0},p(t,[i]){const n={};i&1&&(n.x=t[0]),i&2&&(n.y=t[1]),i&28&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function rt(l,e,r){let{x:t}=e,{y:i}=e,{velocityX:n}=e,{onDie:s}=e;return l.$$set=a=>{"x"in a&&r(0,t=a.x),"y"in a&&r(1,i=a.y),"velocityX"in a&&r(2,n=a.velocityX),"onDie"in a&&r(3,s=a.onDie)},[t,i,n,s]}class st extends Y{constructor(e){super();P(this,e,rt,nt,C,{x:0,y:1,velocityX:2,onDie:3})}}function le(l,e,r){const t=l.slice();return t[10]=e[r],t}function ae(l,e){let r,t,i;function n(){return e[4](e[10])}return t=new st({props:{x:100+e[10].x,y:70+e[10].y+e[3],velocityX:e[1]==="playing"?e[2]:0,onDie:n}}),{key:l,first:null,c(){r=E(),p(t.$$.fragment),this.h()},l(s){r=E(),_(t.$$.fragment,s),this.h()},h(){this.first=r},m(s,a){k(s,r,a),$(t,s,a),i=!0},p(s,a){e=s;const f={};a&1&&(f.x=100+e[10].x),a&9&&(f.y=70+e[10].y+e[3]),a&6&&(f.velocityX=e[1]==="playing"?e[2]:0),a&1&&(f.onDie=n),t.$set(f)},i(s){i||(c(t.$$.fragment,s),i=!0)},o(s){g(t.$$.fragment,s),i=!1},d(s){s&&x(r),y(t,s)}}}function it(l){let e=[],r=new Map,t,i,n=l[0];const s=a=>a[10].key;for(let a=0;a<n.length;a+=1){let f=le(l,n,a),o=s(f);r.set(o,e[a]=ae(o,f))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=E()},l(a){for(let f=0;f<e.length;f+=1)e[f].l(a);t=E()},m(a,f){for(let o=0;o<e.length;o+=1)e[o].m(a,f);k(a,t,f),i=!0},p(a,[f]){f&15&&(n=a[0],L(),e=ve(e,f,s,1,a,n,r,t.parentNode,De,ae,t,le),T())},i(a){if(!i){for(let f=0;f<n.length;f+=1)c(e[f]);i=!0}},o(a){for(let f=0;f<e.length;f+=1)g(e[f]);i=!1},d(a){for(let f=0;f<e.length;f+=1)e[f].d(a);a&&x(t)}}}function lt(l,e,r){let t;B(l,se,h=>r(1,t=h));const i=K(),{spawn:n}=te();let s=[],a=40,f=0;const o={callback:()=>{t==="playing"&&(r(2,a=-a),r(3,f+=16))},loop:!0,delay:3500},m=i.time.addEvent(o),d=i.time.addEvent({callback:()=>{if(t==="playing"){const h=i.children.getByName("player"),w=i.children.list.filter(S=>S.name==="enemy"),v=w[M.Math.RND.integerInRange(0,w.length-1)];if(h&&v){const S=Math.atan2(h.y-v.y,h.x-v.x)*180/Math.PI,O=i.physics.velocityFromAngle(S,180);n(ne,{name:"enemyBullet",texture:"textures/enemy/bullet",target:"player",x:v.x,y:v.y,velocityX:O.x,velocityY:O.y})}}},loop:!0,delay:2e3});ee(()=>()=>{m.destroy(),d.destroy()});const u=h=>{r(0,s=s.filter(w=>w!==h)),re.update(w=>w+M.Math.RND.integerInRange(0,3)),J.update(w=>w+100)};return l.$$.update=()=>{l.$$.dirty&2&&t==="playing"&&(m.reset(o),r(3,f=0),r(0,s=Array.from({length:40}).map((h,w)=>{const v=10,S=w%v,O=Math.floor(w/v);return{x:S*52,y:O*32,key:w+Date.now()}}))),l.$$.dirty&1&&s.length===0&&U.set(!0)},[s,t,a,f,u]}class at extends Y{constructor(e){super();P(this,e,lt,it,C,{})}}function fe(l){let e,r,t,i;return e=new R({props:{x:250,y:200,text:l[0]==="win"?"You Win!":"Game Over",fontSize:"48px",align:"center"}}),t=new R({props:{x:280,y:265,text:"Click to restart",fontSize:"20px"}}),{c(){p(e.$$.fragment),r=D(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=X(n),_(t.$$.fragment,n)},m(n,s){$(e,n,s),k(n,r,s),$(t,n,s),i=!0},p(n,s){const a={};s&1&&(a.text=n[0]==="win"?"You Win!":"Game Over"),e.$set(a)},i(n){i||(c(e.$$.fragment,n),c(t.$$.fragment,n),i=!0)},o(n){g(e.$$.fragment,n),g(t.$$.fragment,n),i=!1},d(n){y(e,n),n&&x(r),y(t,n)}}}function ft(l){let e,r,t,i,n,s,a,f,o,m;e=new R({props:{x:16,y:16,text:`Score: ${l[1]}`}}),t=new R({props:{x:16,y:32,text:`Coins: ${l[2]}`}}),n=new R({props:{x:700,y:16,text:`Lives: ${l[3]}`}}),a=new R({props:{x:180,y:575,text:"Move with arrow keys, shoot with spacebar"}});let d=l[0]!=="playing"&&fe(l);return{c(){p(e.$$.fragment),r=D(),p(t.$$.fragment),i=D(),p(n.$$.fragment),s=D(),p(a.$$.fragment),f=D(),d&&d.c(),o=E()},l(u){_(e.$$.fragment,u),r=X(u),_(t.$$.fragment,u),i=X(u),_(n.$$.fragment,u),s=X(u),_(a.$$.fragment,u),f=X(u),d&&d.l(u),o=E()},m(u,h){$(e,u,h),k(u,r,h),$(t,u,h),k(u,i,h),$(n,u,h),k(u,s,h),$(a,u,h),k(u,f,h),d&&d.m(u,h),k(u,o,h),m=!0},p(u,[h]){const w={};h&2&&(w.text=`Score: ${u[1]}`),e.$set(w);const v={};h&4&&(v.text=`Coins: ${u[2]}`),t.$set(v);const S={};h&8&&(S.text=`Lives: ${u[3]}`),n.$set(S),u[0]!=="playing"?d?(d.p(u,h),h&1&&c(d,1)):(d=fe(u),d.c(),c(d,1),d.m(o.parentNode,o)):d&&(L(),g(d,1,1,()=>{d=null}),T())},i(u){m||(c(e.$$.fragment,u),c(t.$$.fragment,u),c(n.$$.fragment,u),c(a.$$.fragment,u),c(d),m=!0)},o(u){g(e.$$.fragment,u),g(t.$$.fragment,u),g(n.$$.fragment,u),g(a.$$.fragment,u),g(d),m=!1},d(u){y(e,u),u&&x(r),y(t,u),u&&x(i),y(n,u),u&&x(s),y(a,u),u&&x(f),d&&d.d(u),u&&x(o)}}}function ot(l,e,r){let t,i,n,s;return B(l,se,a=>r(0,t=a)),B(l,J,a=>r(1,i=a)),B(l,re,a=>r(2,n=a)),B(l,A,a=>r(3,s=a)),Xe("pointerdown",()=>{t!=="playing"&&Ue()}),[t,i,n,s]}class ut extends Y{constructor(e){super();P(this,e,ot,ft,C,{})}}const ct=l=>({}),oe=l=>({slot:"loading"});function ue(l){let e,r;return e=new et({props:{x:300,y:500}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,i){$(e,t,i),r=!0},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function mt(l){let e,r,t,i,n,s,a;e=new We({}),t=new at({});let f=l[1]>0&&ue();return s=new ut({}),{c(){p(e.$$.fragment),r=D(),p(t.$$.fragment),i=D(),f&&f.c(),n=D(),p(s.$$.fragment)},l(o){_(e.$$.fragment,o),r=X(o),_(t.$$.fragment,o),i=X(o),f&&f.l(o),n=X(o),_(s.$$.fragment,o)},m(o,m){$(e,o,m),k(o,r,m),$(t,o,m),k(o,i,m),f&&f.m(o,m),k(o,n,m),$(s,o,m),a=!0},p(o,m){o[1]>0?f?m&2&&c(f,1):(f=ue(),f.c(),c(f,1),f.m(n.parentNode,n)):f&&(L(),g(f,1,1,()=>{f=null}),T())},i(o){a||(c(e.$$.fragment,o),c(t.$$.fragment,o),c(f),c(s.$$.fragment,o),a=!0)},o(o){g(e.$$.fragment,o),g(t.$$.fragment,o),g(f),g(s.$$.fragment,o),a=!1},d(o){y(e,o),o&&x(r),y(t,o),o&&x(i),f&&f.d(o),o&&x(n),y(s,o)}}}function gt(l){let e,r;return e=new Pe({props:{$$slots:{default:[mt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,i){$(e,t,i),r=!0},p(t,i){const n={};i&18&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function pt(l){let e,r;return e=new Ie({props:{x:400,y:300,progress:l[5]}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,i){$(e,t,i),r=!0},p(t,i){const n={};i&32&&(n.progress=t[5]),e.$set(n)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function _t(l){let e;const r=l[2].default,t=Ce(r,l,l[4],oe),i=t||pt(l);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,s){i&&i.m(n,s),e=!0},p(n,s){t?t.p&&(!e||s&16)&&Ee(t,r,n,n[4],e?Be(r,n[4],s,ct):Ne(n[4]),oe):i&&i.p&&(!e||s&32)&&i.p(n,e?s:-1)},i(n){e||(c(i,n),e=!0)},o(n){g(i,n),e=!1},d(n){i&&i.d(n)}}}function $t(l){let e,r;return e=new Ye({props:{key:"main",preload:dt,create:ht,$$slots:{loading:[_t,({progress:t})=>({5:t}),({progress:t})=>t?32:0],default:[gt,({progress:t})=>({5:t}),({progress:t})=>t?32:0]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,i){$(e,t,i),r=!0},p(t,i){const n={};i&50&&(n.$$scope={dirty:i,ctx:t}),e.$set(n)},i(t){r||(c(e.$$.fragment,t),r=!0)},o(t){g(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function yt(l){let e,r,t;function i(s){l[3](s)}let n={width:800,height:600,physics:{default:"arcade"},scale:{mode:M.Scale.FIT,autoCenter:M.Scale.CENTER_BOTH},$$slots:{default:[$t]},$$scope:{ctx:l}};return l[0]!==void 0&&(n.instance=l[0]),e=new Se({props:n}),G.push(()=>H(e,"instance",i)),{c(){p(e.$$.fragment)},l(s){_(e.$$.fragment,s)},m(s,a){$(e,s,a),t=!0},p(s,[a]){const f={};a&18&&(f.$$scope={dirty:a,ctx:s}),!r&&a&1&&(r=!0,f.instance=s[0],j(()=>r=!1)),e.$set(f)},i(s){t||(c(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){y(e,s)}}}function dt(l){l.load.image("textures/starfield","assets/star-bg-0.png"),l.load.spritesheet("textures/enemy","assets/invader-gold.png",{frameWidth:79,frameHeight:66}),l.load.spritesheet("textures/explosion","assets/explode.png",{frameWidth:128,frameHeight:128}),l.load.image("textures/player","assets/ship.png"),l.load.spritesheet("textures/player/bullet","assets/bullet.png",{frameWidth:6,frameHeight:22}),l.load.image("textures/enemy/bullet","assets/enemy-bullet.png")}function ht(l){l.anims.create({key:"anims/enemy/fly",frames:l.anims.generateFrameNumbers("textures/enemy"),frameRate:10,repeat:-1}),l.anims.create({key:"anims/explosion",frames:l.anims.generateFrameNumbers("textures/explosion",{start:0,end:16}),frameRate:24}),l.anims.create({key:"anims/bullet/default",frames:l.anims.generateFrameNumbers("textures/player/bullet"),frameRate:20,repeat:-1})}function bt(l,e,r){let t;B(l,A,f=>r(1,t=f));let{$$slots:i={},$$scope:n}=e,s;function a(f){s=f,r(0,s)}return l.$$set=f=>{"$$scope"in f&&r(4,n=f.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&(window.game=s)},[s,t,i,a,n]}class wt extends Y{constructor(e){super();P(this,e,bt,yt,C,{})}}new wt({target:document.body});
