import{S as M,i as N,s as E,C as Xe,c as _,a as d,m as $,t as g,b as p,d as h,e as te,f as Ye,g as R,h as j,j as Se,k as Me,R as ne,P as Y,l as B,n as D,o as x,p as Ne,q as Ee,r as C,u as Ge,T as Re,v as U,w as O,x as Ae,y as S,z as A,A as P,B as H,D as re,E as I,F as T,G as W,H as K,I as q,J as Pe,K as Q,L as ie,M as Ie,N as Te,O as We,Q as F,U as Fe,V as ae,W as le,X as se,Y as fe,Z as oe,_ as ue,$ as Oe}from"./vendor.10939f32.js";const He=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerpolicy&&(n.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?n.credentials="include":l.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(l){if(l.ep)return;l.ep=!0;const n=r(l);fetch(l.href,n)}};He();function Le(a){let e,r,t,l;const n=[{width:G},{height:50},{fillColor:7829367},a[4]];let i={};for(let f=0;f<n.length;f+=1)i=j(i,n[f]);return e=new ne({props:i}),t=new ne({props:{x:-G/2,originX:0,originY:.5,width:Y.Math.Clamp(G*a[2],10,G),height:50,fillColor:12303291}}),{c(){_(e.$$.fragment),r=B(),_(t.$$.fragment)},l(f){d(e.$$.fragment,f),r=D(f),d(t.$$.fragment,f)},m(f,s){$(e,f,s),x(f,r,s),$(t,f,s),l=!0},p(f,s){const o=s&16?Ne(n,[s&0&&{width:G},n[1],n[2],s&16&&Ee(f[4])]):{};e.$set(o);const m={};s&4&&(m.width=Y.Math.Clamp(G*f[2],10,G)),t.$set(m)},i(f){l||(g(e.$$.fragment,f),g(t.$$.fragment,f),l=!0)},o(f){p(e.$$.fragment,f),p(t.$$.fragment,f),l=!1},d(f){h(e,f),f&&C(r),h(t,f)}}}function Ke(a){let e,r;return e=new Xe({props:{x:a[0],y:a[1],width:G,height:50,$$slots:{default:[Le]},$$scope:{ctx:a}}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},p(t,[l]){const n={};l&1&&(n.x=t[0]),l&2&&(n.y=t[1]),l&84&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}const G=400;function qe(a,e,r){const t=["x","y","progress"];let l=te(e,t),n,{x:i}=e,{y:f}=e,{progress:s=0}=e;const o=Ye(s,{duration:200,easing:Ge});return R(a,o,m=>r(2,n=m)),a.$$set=m=>{e=j(j({},e),Se(m)),r(4,l=te(e,t)),"x"in m&&r(0,i=m.x),"y"in m&&r(1,f=m.y),"progress"in m&&r(5,s=m.progress)},a.$$.update=()=>{a.$$.dirty&32&&Me(o,n=s,n)},[i,f,n,o,l,s]}class me extends M{constructor(e){super();N(this,e,qe,Ke,E,{x:0,y:1,progress:5})}}function Qe(a){let e,r;return e=new Re({props:{depth:-1,x:0,y:0,width:800,height:600,originX:0,originY:0,texture:"textures/starfield",tilePositionY:a[0]}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},p(t,[l]){const n={};l&1&&(n.tilePositionY=t[0]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function ze(a,e,r){let t=0;return U("step",()=>{r(0,t-=2)}),[t]}class ce extends M{constructor(e){super();N(this,e,ze,Qe,E,{})}}function je(a){let e,r;return e=new O({props:{x:a[0],y:a[1],depth:30,animation:a[2],scale:a[2]=="anims/ufo/explosion"?1:.75}}),e.$on("animationcomplete",a[3]),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},p(t,[l]){const n={};l&1&&(n.x=t[0]),l&2&&(n.y=t[1]),l&4&&(n.animation=t[2]),l&4&&(n.scale=t[2]=="anims/ufo/explosion"?1:.75),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Ue(a,e,r){let{x:t}=e,{y:l}=e,{animation:n="anims/enemy/explosion"}=e;function i(f){Ae.call(this,a,f)}return a.$$set=f=>{"x"in f&&r(0,t=f.x),"y"in f&&r(1,l=f.y),"animation"in f&&r(2,n=f.animation)},[t,l,n,i]}class Je extends M{constructor(e){super();N(this,e,Ue,je,E,{x:0,y:1,animation:2})}}function Ve(a){let e,r,t;function l(i){a[16](i)}let n={animation:a[0]==="enemyBullet"?"anims/enemyBullet/default":a[0]==="flirtyGirlBullet"?"anims/kissBullet/default":"anims/bullet/default",depth:a[3],name:a[0],texture:a[2],x:a[4],y:a[5],scale:a[0]==="flirtyGirlBullet"?.5:1,$$slots:{default:[et]},$$scope:{ctx:a}};return a[9]!==void 0&&(n.instance=a[9]),e=new O({props:n}),I.push(()=>T(e,"instance",l)),{c(){_(e.$$.fragment)},l(i){d(e.$$.fragment,i)},m(i,f){$(e,i,f),t=!0},p(i,f){const s={};f&1&&(s.animation=i[0]==="enemyBullet"?"anims/enemyBullet/default":i[0]==="flirtyGirlBullet"?"anims/kissBullet/default":"anims/bullet/default"),f&8&&(s.depth=i[3]),f&1&&(s.name=i[0]),f&4&&(s.texture=i[2]),f&16&&(s.x=i[4]),f&32&&(s.y=i[5]),f&1&&(s.scale=i[0]==="flirtyGirlBullet"?.5:1),f&540354&&(s.$$scope={dirty:f,ctx:i}),!r&&f&512&&(r=!0,s.instance=i[9],W(()=>r=!1)),e.$set(s)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){h(e,i)}}}function Ze(a){let e,r;return e=new Je({props:{animation:a[13],x:a[12].x,y:a[12].y-32}}),e.$on("animationcomplete",a[14]),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},p(t,l){const n={};l&8192&&(n.animation=t[13]),l&4096&&(n.x=t[12].x),l&4096&&(n.y=t[12].y-32),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function et(a){let e,r,t,l;return e=new K({props:{with:a[1],overlapOnly:!0}}),e.$on("collide",a[15]),t=new q({props:{velocityY:a[7],velocityX:a[6]}}),{c(){_(e.$$.fragment),r=B(),_(t.$$.fragment)},l(n){d(e.$$.fragment,n),r=D(n),d(t.$$.fragment,n)},m(n,i){$(e,n,i),x(n,r,i),$(t,n,i),l=!0},p(n,i){const f={};i&2&&(f.with=n[1]),e.$set(f);const s={};i&128&&(s.velocityY=n[7]),i&64&&(s.velocityX=n[6]),t.$set(s)},i(n){l||(g(e.$$.fragment,n),g(t.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),l=!1},d(n){h(e,n),n&&C(r),h(t,n)}}}function tt(a){let e,r,t,l;const n=[Ze,Ve],i=[];function f(s,o){return s[10]?0:1}return e=f(a),r=i[e]=n[e](a),{c(){r.c(),t=S()},l(s){r.l(s),t=S()},m(s,o){i[e].m(s,o),x(s,t,o),l=!0},p(s,[o]){let m=e;e=f(s),e===m?i[e].p(s,o):(A(),p(i[m],1,1,()=>{i[m]=null}),P(),r=i[e],r?r.p(s,o):(r=i[e]=n[e](s),r.c()),g(r,1),r.m(t.parentNode,t))},i(s){l||(g(r),l=!0)},o(s){p(r),l=!1},d(s){i[e].d(s),s&&C(t)}}}function nt(a,e,r){let{name:t}=e,{target:l}=e,{texture:n}=e,{depth:i=0}=e,{x:f}=e,{y:s}=e,{velocityX:o=0}=e,{velocityY:m=0}=e,{onDestroy:b}=e,u,c=!1,y,k,v,z=H().time.addEvent({callback:()=>{c||b()},delay:3e3});re(()=>()=>z.destroy());const X=()=>b(),Be=w=>{r(10,c=!0),r(11,y=w.detail.other.texture.key),r(13,v=y.replace("textures","anims")+"/explosion"),r(12,k={x:u.x,y:u.y})};function De(w){u=w,r(9,u)}return a.$$set=w=>{"name"in w&&r(0,t=w.name),"target"in w&&r(1,l=w.target),"texture"in w&&r(2,n=w.texture),"depth"in w&&r(3,i=w.depth),"x"in w&&r(4,f=w.x),"y"in w&&r(5,s=w.y),"velocityX"in w&&r(6,o=w.velocityX),"velocityY"in w&&r(7,m=w.velocityY),"onDestroy"in w&&r(8,b=w.onDestroy)},[t,l,n,i,f,s,o,m,b,u,c,y,k,v,X,Be,De]}class J extends M{constructor(e){super();N(this,e,nt,tt,E,{name:0,target:1,texture:2,depth:3,x:4,y:5,velocityX:6,velocityY:7,onDestroy:8})}}const V=Q(0),L=Q(3),ge=Q(0),Z=Q(!1),pe=Pe([L,Z],([a,e])=>a<=0?"gameover":e?"win":"playing"),rt=()=>{V.set(0),L.set(3),Z.set(!1)};function it(a){let e,r,t,l;return e=new K({props:{with:["enemies","enemyBullet"],overlapOnly:!0}}),e.$on("collide",a[4]),t=new q({props:{velocityX:a[3],collideWorldBounds:!0}}),{c(){_(e.$$.fragment),r=B(),_(t.$$.fragment)},l(n){d(e.$$.fragment,n),r=D(n),d(t.$$.fragment,n)},m(n,i){$(e,n,i),x(n,r,i),$(t,n,i),l=!0},p(n,i){const f={};i&8&&(f.velocityX=n[3]),t.$set(f)},i(n){l||(g(e.$$.fragment,n),g(t.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),l=!1},d(n){h(e,n),n&&C(r),h(t,n)}}}function at(a){let e,r,t;function l(i){a[5](i)}let n={depth:10,name:"player",texture:"textures/player",x:a[1],y:a[2],$$slots:{default:[it]},$$scope:{ctx:a}};return a[0]!==void 0&&(n.instance=a[0]),e=new O({props:n}),I.push(()=>T(e,"instance",l)),{c(){_(e.$$.fragment)},l(i){d(e.$$.fragment,i)},m(i,f){$(e,i,f),t=!0},p(i,[f]){const s={};f&2&&(s.x=i[1]),f&4&&(s.y=i[2]),f&520&&(s.$$scope={dirty:f,ctx:i}),!r&&f&1&&(r=!0,s.instance=i[0],W(()=>r=!1)),e.$set(s)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){h(e,i)}}}const ye=200;function lt(a,e,r){let{x:t}=e,{y:l}=e,{instance:n=void 0}=e;const{spawn:i}=ie(),f=H(),s={left:f.input.keyboard.addKey("left"),right:f.input.keyboard.addKey("right"),up:f.input.keyboard.addKey("up"),shoot:f.input.keyboard.addKey("SPACE")};let o=0;U("step",()=>{!s.left.isDown&&!s.right.isDown||s.left.isDown&&s.right.isDown?r(3,o=0):s.left.isDown?r(3,o=-ye):s.right.isDown&&r(3,o=ye),Y.Input.Keyboard.JustDown(s.shoot)&&i(J,{name:"playerBullet",texture:"textures/player/bullet",target:"enemy",depth:10,x:n.x,y:n.y-8,velocityY:-250})});const m=()=>L.update(u=>u-1);function b(u){n=u,r(0,n)}return a.$$set=u=>{"x"in u&&r(1,t=u.x),"y"in u&&r(2,l=u.y),"instance"in u&&r(0,n=u.instance)},[n,t,l,o,m,b]}class st extends M{constructor(e){super();N(this,e,lt,at,E,{x:1,y:2,instance:0})}}function ft(a){let e,r,t,l;return e=new q({props:{bounce:1,collideWorldBounds:!0,velocityX:Math.random()<.5?15:-15,velocityY:Y.Math.Between(-5,-60),gravityY:100,useDamping:!0,circle:{radius:28,offsetX:0,offsetY:0}}}),t=new K({props:{with:"player",overlapOnly:!0}}),t.$on("collide",a[5]),{c(){_(e.$$.fragment),r=B(),_(t.$$.fragment)},l(n){d(e.$$.fragment,n),r=D(n),d(t.$$.fragment,n)},m(n,i){$(e,n,i),x(n,r,i),$(t,n,i),l=!0},p:Ie,i(n){l||(g(e.$$.fragment,n),g(t.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),l=!1},d(n){h(e,n),n&&C(r),h(t,n)}}}function ot(a){let e,r,t;function l(i){a[6](i)}let n={name:"coin",x:a[0],y:a[1],scale:.75,animation:"anims/coin/default",$$slots:{default:[ft]},$$scope:{ctx:a}};return a[3]!==void 0&&(n.instance=a[3]),e=new O({props:n}),I.push(()=>T(e,"instance",l)),{c(){_(e.$$.fragment)},l(i){d(e.$$.fragment,i)},m(i,f){$(e,i,f),t=!0},p(i,[f]){const s={};f&1&&(s.x=i[0]),f&2&&(s.y=i[1]),f&132&&(s.$$scope={dirty:f,ctx:i}),!r&&f&8&&(r=!0,s.instance=i[3],W(()=>r=!1)),e.$set(s)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){h(e,i)}}}function ut(a,e,r){const t=H();let{x:l}=e,{y:n}=e,{onCoinCollected:i}=e,f;U("step",()=>{f.y>600&&i()});const s=()=>{i(),ge.update(m=>m+Y.Math.RND.integerInRange(1,3)),t.coinSound.play()};function o(m){f=m,r(3,f)}return a.$$set=m=>{"x"in m&&r(0,l=m.x),"y"in m&&r(1,n=m.y),"onCoinCollected"in m&&r(2,i=m.onCoinCollected)},[l,n,i,f,t,s,o]}class mt extends M{constructor(e){super();N(this,e,ut,ot,E,{x:0,y:1,onCoinCollected:2})}}function ct(a){let e,r,t;function l(i){a[12](i)}let n={name:"enemy",x:a[1],y:a[2],animation:a[0],$$slots:{default:[pt]},$$scope:{ctx:a}};return a[5]!==void 0&&(n.instance=a[5]),e=new O({props:n}),I.push(()=>T(e,"instance",l)),{c(){_(e.$$.fragment)},l(i){d(e.$$.fragment,i)},m(i,f){$(e,i,f),t=!0},p(i,f){const s={};f&2&&(s.x=i[1]),f&4&&(s.y=i[2]),f&1&&(s.animation=i[0]),f&66537&&(s.$$scope={dirty:f,ctx:i}),!r&&f&32&&(r=!0,s.instance=i[5],W(()=>r=!1)),e.$set(s)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){h(e,i)}}}function gt(a){let e,r;return e=new mt({props:{x:a[5].x,y:a[5].y,onCoinCollected:a[10]}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},p(t,l){const n={};l&32&&(n.x=t[5].x),l&32&&(n.y=t[5].y),l&16&&(n.onCoinCollected=t[10]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function pt(a){let e,r,t,l;return e=new q({props:{width:a[0]=="anims/enemy/fly"?33:26,height:(a[0]=="anims/enemy/fly",24),offsetX:a[0]=="anims/enemy/fly"?23:4,offsetY:a[0]=="anims/enemy/fly"?21:15,velocityX:a[3],bounce:1,collideWorldBounds:!0}}),t=new K({props:{with:"playerBullet",overlapOnly:!0}}),t.$on("collide",a[11]),{c(){_(e.$$.fragment),r=B(),_(t.$$.fragment)},l(n){d(e.$$.fragment,n),r=D(n),d(t.$$.fragment,n)},m(n,i){$(e,n,i),x(n,r,i),$(t,n,i),l=!0},p(n,i){const f={};i&1&&(f.width=n[0]=="anims/enemy/fly"?33:26),i&1&&(f.height=(n[0]=="anims/enemy/fly",24)),i&1&&(f.offsetX=n[0]=="anims/enemy/fly"?23:4),i&1&&(f.offsetY=n[0]=="anims/enemy/fly"?21:15),i&8&&(f.velocityX=n[3]),e.$set(f)},i(n){l||(g(e.$$.fragment,n),g(t.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),l=!1},d(n){h(e,n),n&&C(r),h(t,n)}}}function yt(a){let e,r,t,l;const n=[gt,ct],i=[];function f(s,o){return s[6]?0:1}return e=f(a),r=i[e]=n[e](a),{c(){r.c(),t=S()},l(s){r.l(s),t=S()},m(s,o){i[e].m(s,o),x(s,t,o),l=!0},p(s,[o]){let m=e;e=f(s),e===m?i[e].p(s,o):(A(),p(i[m],1,1,()=>{i[m]=null}),P(),r=i[e],r?r.p(s,o):(r=i[e]=n[e](s),r.c()),g(r,1),r.m(t.parentNode,t))},i(s){l||(g(r),l=!0)},o(s){p(r),l=!1},d(s){i[e].d(s),s&&C(t)}}}function _t(a,e,r){const t=H();let{animation:l}=e,{x:n}=e,{y:i}=e,{velocityX:f}=e,{onDie:s}=e,o,m=!1,b,u,c;b=t.add.particles("textures/enemy/particles").createEmitter({frequency:-1,blendMode:Y.BlendModes.ADD,gravityY:600,alpha:{start:1,end:0,ease:"Cubic.easeIn"},lifespan:500,angle:{min:-180,max:180},speed:{min:0,max:2400},scale:{min:.4,max:.6},frame:[...Array(3).keys()]});let k=t.add.particles("textures/flirty-girl/particles");u=k.createEmitter({frequency:-1,blendMode:Y.BlendModes.ADD,gravityY:600,alpha:{start:1,end:0,ease:"Cubic.easeIn"},lifespan:500,angle:{min:-180,max:180},speed:{min:0,max:600},frame:[0]}),c=k.createEmitter({frequency:-1,blendMode:Y.BlendModes.ADD,gravityY:600,alpha:{start:1,end:0,ease:"Cubic.easeIn"},lifespan:500,angle:{min:-180,max:180},speed:{min:0,max:600},frame:[1]});const v=()=>{s()},ee=()=>{r(6,m=!0),l=="anims/enemy/fly"&&b.explode(100,o.x,o.y),(l=="anims/flirtyGirl/default"||l=="anims/flirtyGirl/attack")&&u.explode(1,o.x,o.y)&&c.explode(1,o.x,o.y)};function z(X){o=X,r(5,o)}return a.$$set=X=>{"animation"in X&&r(0,l=X.animation),"x"in X&&r(1,n=X.x),"y"in X&&r(2,i=X.y),"velocityX"in X&&r(3,f=X.velocityX),"onDie"in X&&r(4,s=X.onDie)},[l,n,i,f,s,o,m,b,u,c,v,ee,z]}class dt extends M{constructor(e){super();N(this,e,_t,yt,E,{animation:0,x:1,y:2,velocityX:3,onDie:4})}}function _e(a,e,r){const t=a.slice();return t[9]=e[r],t}function de(a,e){let r,t,l;function n(){return e[3](e[9])}return t=new dt({props:{animation:e[9].animation,x:100+e[9].x,y:70+e[9].y+e[2],velocityX:e[1]==="playing"?$e:0,onDie:n}}),{key:a,first:null,c(){r=S(),_(t.$$.fragment),this.h()},l(i){r=S(),d(t.$$.fragment,i),this.h()},h(){this.first=r},m(i,f){x(i,r,f),$(t,i,f),l=!0},p(i,f){e=i;const s={};f&1&&(s.animation=e[9].animation),f&1&&(s.x=100+e[9].x),f&5&&(s.y=70+e[9].y+e[2]),f&2&&(s.velocityX=e[1]==="playing"?$e:0),f&1&&(s.onDie=n),t.$set(s)},i(i){l||(g(t.$$.fragment,i),l=!0)},o(i){p(t.$$.fragment,i),l=!1},d(i){i&&C(r),h(t,i)}}}function $t(a){let e=[],r=new Map,t,l,n=a[0];const i=f=>f[9].key;for(let f=0;f<n.length;f+=1){let s=_e(a,n,f),o=i(s);r.set(o,e[f]=de(o,s))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=S()},l(f){for(let s=0;s<e.length;s+=1)e[s].l(f);t=S()},m(f,s){for(let o=0;o<e.length;o+=1)e[o].m(f,s);x(f,t,s),l=!0},p(f,[s]){s&7&&(n=f[0],A(),e=Te(e,s,i,1,f,n,r,t.parentNode,We,de,t,_e),P())},i(f){if(!l){for(let s=0;s<n.length;s+=1)g(e[s]);l=!0}},o(f){for(let s=0;s<e.length;s+=1)p(e[s]);l=!1},d(f){for(let s=0;s<e.length;s+=1)e[s].d(f);f&&C(t)}}}let $e=40;function ht(a,e,r){let t;R(a,pe,u=>r(1,t=u));const l=H(),{spawn:n}=ie();let i=[],f=0;const s={callback:()=>{if(t==="playing"){r(2,f+=16);const u=l.children.list.filter(c=>c.name==="enemy");if(u.length<=20&&o.delay==3500){let c={callback:s.callback,loop:!0,delay:1e3};o.reset(c)}if(u.length<=10&&o.delay==1e3){let c={callback:s.callback,loop:!0,delay:500};o.reset(c)}}},loop:!0,delay:3500},o=l.time.addEvent(s),m=l.time.addEvent({callback:()=>{if(t==="playing"){const u=l.children.getByName("player"),c=l.children.list.filter(k=>k.name==="enemy"),y=c[Y.Math.RND.integerInRange(0,c.length-1)];if(u&&y){const k=Math.atan2(u.y-y.y,u.x-y.x)*180/Math.PI,v=l.physics.velocityFromAngle(k,180);y.texture.key=="textures/flirty-girl"?(y.once("animationcomplete-anims/flirtyGirl/attack",()=>{n(J,{name:"flirtyGirlBullet",texture:"textures/kiss-bullet",target:"player",x:y.x,y:y.y,velocityX:v.x,velocityY:v.y}),y.play("anims/flirtyGirl/default")}),y.play("anims/flirtyGirl/attack")):n(J,{name:"enemyBullet",texture:"textures/enemy/bullet",target:"player",x:y.x,y:y.y,velocityX:v.x,velocityY:v.y})}}},loop:!0,delay:2e3});window.foo=m,re(()=>()=>{o.destroy(),m.destroy()});const b=u=>{r(0,i=i.filter(c=>c!==u)),V.update(c=>c+100)};return a.$$.update=()=>{a.$$.dirty&2&&t==="playing"&&(o.reset(s),r(2,f=0),r(0,i=Array.from({length:40}).map((u,c)=>{const y=10,k=c%y,v=Math.floor(c/y);return{x:k*52,y:v*32,key:c+Date.now(),animation:c%2==0?"anims/enemy/fly":"anims/flirtyGirl/default"}}))),a.$$.dirty&1&&i.length===0&&Z.set(!0)},[i,t,f,b]}class bt extends M{constructor(e){super();N(this,e,ht,$t,E,{})}}function he(a){let e,r;return e=new F({props:{x:180,y:575,text:"Move with arrow keys, shoot with spacebar"}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function be(a){let e,r,t,l;return e=new F({props:{x:250,y:200,text:a[0]==="win"?"You Win!":"Game Over",fontSize:"48px",align:"center"}}),t=new F({props:{x:280,y:265,text:"Click to restart",fontSize:"20px"}}),{c(){_(e.$$.fragment),r=B(),_(t.$$.fragment)},l(n){d(e.$$.fragment,n),r=D(n),d(t.$$.fragment,n)},m(n,i){$(e,n,i),x(n,r,i),$(t,n,i),l=!0},p(n,i){const f={};i&1&&(f.text=n[0]==="win"?"You Win!":"Game Over"),e.$set(f)},i(n){l||(g(e.$$.fragment,n),g(t.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),l=!1},d(n){h(e,n),n&&C(r),h(t,n)}}}function kt(a){let e,r,t,l,n,i,f,s,o;e=new F({props:{x:16,y:16,text:`Score: ${a[1]}`}}),t=new F({props:{x:16,y:32,text:`Coins: ${a[2]}`}}),n=new F({props:{x:700,y:16,text:`Lives: ${a[3]}`}});let m=a[0]==="playing"&&a[2]===0&&he(),b=a[0]!=="playing"&&be(a);return{c(){_(e.$$.fragment),r=B(),_(t.$$.fragment),l=B(),_(n.$$.fragment),i=B(),m&&m.c(),f=B(),b&&b.c(),s=S()},l(u){d(e.$$.fragment,u),r=D(u),d(t.$$.fragment,u),l=D(u),d(n.$$.fragment,u),i=D(u),m&&m.l(u),f=D(u),b&&b.l(u),s=S()},m(u,c){$(e,u,c),x(u,r,c),$(t,u,c),x(u,l,c),$(n,u,c),x(u,i,c),m&&m.m(u,c),x(u,f,c),b&&b.m(u,c),x(u,s,c),o=!0},p(u,[c]){const y={};c&2&&(y.text=`Score: ${u[1]}`),e.$set(y);const k={};c&4&&(k.text=`Coins: ${u[2]}`),t.$set(k);const v={};c&8&&(v.text=`Lives: ${u[3]}`),n.$set(v),u[0]==="playing"&&u[2]===0?m?c&5&&g(m,1):(m=he(),m.c(),g(m,1),m.m(f.parentNode,f)):m&&(A(),p(m,1,1,()=>{m=null}),P()),u[0]!=="playing"?b?(b.p(u,c),c&1&&g(b,1)):(b=be(u),b.c(),g(b,1),b.m(s.parentNode,s)):b&&(A(),p(b,1,1,()=>{b=null}),P())},i(u){o||(g(e.$$.fragment,u),g(t.$$.fragment,u),g(n.$$.fragment,u),g(m),g(b),o=!0)},o(u){p(e.$$.fragment,u),p(t.$$.fragment,u),p(n.$$.fragment,u),p(m),p(b),o=!1},d(u){h(e,u),u&&C(r),h(t,u),u&&C(l),h(n,u),u&&C(i),m&&m.d(u),u&&C(f),b&&b.d(u),u&&C(s)}}}function wt(a,e,r){let t,l,n,i;return R(a,pe,f=>r(0,t=f)),R(a,V,f=>r(1,l=f)),R(a,ge,f=>r(2,n=f)),R(a,L,f=>r(3,i=f)),Fe("pointerdown",()=>{t!=="playing"&&rt()}),[t,l,n,i]}class xt extends M{constructor(e){super();N(this,e,wt,kt,E,{})}}const Ct=a=>({}),ke=a=>({slot:"loading"}),vt=a=>({}),we=a=>({slot:"loading"});function Bt(a){let e,r;return e=new ae({props:{width:800,height:600,scale:{mode:Y.Scale.FIT,autoCenter:Y.Scale.CENTER_BOTH},render:{pixelArt:!0},physics:{default:"arcade"},$$slots:{default:[Mt]},$$scope:{ctx:a}}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},p(t,l){const n={};l&1034&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Dt(a){let e,r,t;function l(i){a[7](i)}let n={width:800,height:600,physics:{default:"arcade"},scale:{mode:Y.Scale.FIT,autoCenter:Y.Scale.CENTER_BOTH},render:{pixelArt:!0},$$slots:{default:[At]},$$scope:{ctx:a}};return a[0]!==void 0&&(n.instance=a[0]),e=new ae({props:n}),I.push(()=>T(e,"instance",l)),{c(){_(e.$$.fragment)},l(i){d(e.$$.fragment,i)},m(i,f){$(e,i,f),t=!0},p(i,f){const s={};f&1040&&(s.$$scope={dirty:f,ctx:i}),!r&&f&1&&(r=!0,s.instance=i[0],W(()=>r=!1)),e.$set(s)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){h(e,i)}}}function Xt(a){let e,r,t,l,n,i,f,s;e=new ce({});function o(c){a[8](c)}let m={scale:2,texture:"textures/logo",originX:0,originY:0,x:(800-537)/2,y:-124};a[3]!==void 0&&(m.instance=a[3]),t=new O({props:m}),I.push(()=>T(t,"instance",o));function b(c){a[9](c)}let u={align:"center",scaleX:-1,scaleY:0,originX:0,originY:0,x:(800-390)/2,y:500,fontSize:"18px",text:">  UPGRADE SHIP  <"};return a[1]!==void 0&&(u.instance=a[1]),i=new F({props:u}),I.push(()=>T(i,"instance",b)),{c(){_(e.$$.fragment),r=B(),_(t.$$.fragment),n=B(),_(i.$$.fragment)},l(c){d(e.$$.fragment,c),r=D(c),d(t.$$.fragment,c),n=D(c),d(i.$$.fragment,c)},m(c,y){$(e,c,y),x(c,r,y),$(t,c,y),x(c,n,y),$(i,c,y),s=!0},p(c,y){const k={};!l&&y&8&&(l=!0,k.instance=c[3],W(()=>l=!1)),t.$set(k);const v={};!f&&y&2&&(f=!0,v.instance=c[1],W(()=>f=!1)),i.$set(v)},i(c){s||(g(e.$$.fragment,c),g(t.$$.fragment,c),g(i.$$.fragment,c),s=!0)},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c),p(i.$$.fragment,c),s=!1},d(c){h(e,c),c&&C(r),h(t,c),c&&C(n),h(i,c)}}}function Yt(a){let e,r;return e=new me({props:{x:400,y:300,progress:a[11]}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},p(t,l){const n={};l&2048&&(n.progress=t[11]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function St(a){let e;const r=a[6].default,t=se(r,a,a[10],ke),l=t||Yt(a);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){t?t.p&&(!e||i&1024)&&fe(t,r,n,n[10],e?ue(r,n[10],i,Ct):oe(n[10]),ke):l&&l.p&&(!e||i&2048)&&l.p(n,e?i:-1)},i(n){e||(g(l,n),e=!0)},o(n){p(l,n),e=!1},d(n){l&&l.d(n)}}}function Mt(a){let e,r;return e=new le({props:{key:"menu",preload:Ce,create:a[5],$$slots:{loading:[St,({progress:t})=>({11:t}),({progress:t})=>t?2048:0],default:[Xt,({progress:t})=>({11:t}),({progress:t})=>t?2048:0]},$$scope:{ctx:a}}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},p(t,l){const n={};l&3082&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function xe(a){let e,r;return e=new st({props:{x:300,y:500}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Nt(a){let e,r,t,l,n,i,f;e=new ce({}),t=new bt({});let s=a[4]>0&&xe();return i=new xt({}),{c(){_(e.$$.fragment),r=B(),_(t.$$.fragment),l=B(),s&&s.c(),n=B(),_(i.$$.fragment)},l(o){d(e.$$.fragment,o),r=D(o),d(t.$$.fragment,o),l=D(o),s&&s.l(o),n=D(o),d(i.$$.fragment,o)},m(o,m){$(e,o,m),x(o,r,m),$(t,o,m),x(o,l,m),s&&s.m(o,m),x(o,n,m),$(i,o,m),f=!0},p(o,m){o[4]>0?s?m&16&&g(s,1):(s=xe(),s.c(),g(s,1),s.m(n.parentNode,n)):s&&(A(),p(s,1,1,()=>{s=null}),P())},i(o){f||(g(e.$$.fragment,o),g(t.$$.fragment,o),g(s),g(i.$$.fragment,o),f=!0)},o(o){p(e.$$.fragment,o),p(t.$$.fragment,o),p(s),p(i.$$.fragment,o),f=!1},d(o){h(e,o),o&&C(r),h(t,o),o&&C(l),s&&s.d(o),o&&C(n),h(i,o)}}}function Et(a){let e,r;return e=new Oe({props:{$$slots:{default:[Nt]},$$scope:{ctx:a}}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},p(t,l){const n={};l&1040&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Gt(a){let e,r;return e=new me({props:{x:400,y:300,progress:a[11]}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},p(t,l){const n={};l&2048&&(n.progress=t[11]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Rt(a){let e;const r=a[6].default,t=se(r,a,a[10],we),l=t||Gt(a);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){t?t.p&&(!e||i&1024)&&fe(t,r,n,n[10],e?ue(r,n[10],i,vt):oe(n[10]),we):l&&l.p&&(!e||i&2048)&&l.p(n,e?i:-1)},i(n){e||(g(l,n),e=!0)},o(n){p(l,n),e=!1},d(n){l&&l.d(n)}}}function At(a){let e,r;return e=new le({props:{key:"main",preload:Ce,create:ve,$$slots:{loading:[Rt,({progress:t})=>({11:t}),({progress:t})=>t?2048:0],default:[Et,({progress:t})=>({11:t}),({progress:t})=>t?2048:0]},$$scope:{ctx:a}}}),{c(){_(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,l){$(e,t,l),r=!0},p(t,l){const n={};l&3088&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Pt(a){let e,r,t,l;const n=[Dt,Bt],i=[];function f(s,o){return s[2]?0:1}return e=f(a),r=i[e]=n[e](a),{c(){r.c(),t=S()},l(s){r.l(s),t=S()},m(s,o){i[e].m(s,o),x(s,t,o),l=!0},p(s,[o]){let m=e;e=f(s),e===m?i[e].p(s,o):(A(),p(i[m],1,1,()=>{i[m]=null}),P(),r=i[e],r?r.p(s,o):(r=i[e]=n[e](s),r.c()),g(r,1),r.m(t.parentNode,t))},i(s){l||(g(r),l=!0)},o(s){p(r),l=!1},d(s){i[e].d(s),s&&C(t)}}}function Ce(a){a.load.audio("audio/coin","assets/coin.mp3"),a.load.image("textures/copyright","assets/logo-dark.png"),a.load.image("textures/logo","assets/RonaGun-logo.png"),a.load.image("textures/starfield","assets/star-bg-0.png"),a.load.spritesheet("textures/coin","assets/coin.png",{frameWidth:54,frameHeight:54}),a.load.spritesheet("textures/enemy","assets/invader-gold.png",{frameWidth:79,frameHeight:66}),a.load.spritesheet("textures/enemy/particles","assets/invader-gold-particles.png",{frameWidth:3,frameHeight:3}),a.load.spritesheet("textures/explosion","assets/explode.png",{frameWidth:128,frameHeight:128}),a.load.spritesheet("textures/flirty-girl","assets/flirty-gold-girl.png",{frameWidth:31,frameHeight:40}),a.load.spritesheet("textures/flirty-girl/particles","assets/flirty-girl-particles.png",{frameWidth:15,frameHeight:29}),a.load.spritesheet("textures/kiss-bullet","assets/kiss-bullet.png",{frameWidth:25,frameHeight:21}),a.load.spritesheet("textures/ufo","assets/ufo.png",{frameWidth:32,frameHeight:30}),a.load.spritesheet("textures/ufo/explosion","assets/ufo-explosion.png",{frameWidth:32,frameHeight:30}),a.load.image("textures/player","assets/ship.png"),a.load.spritesheet("textures/player/bullet","assets/sperm.png",{frameWidth:6,frameHeight:22}),a.load.image("textures/enemy/bullet","assets/enemy-bullet.png")}function ve(a){a.anims.create({key:"anims/enemy/fly",frames:a.anims.generateFrameNumbers("textures/enemy"),frameRate:6,repeat:-1}),a.anims.create({key:"anims/enemy/explosion",frames:a.anims.generateFrameNumbers("textures/explosion"),frameRate:24}),a.anims.create({key:"anims/bullet/default",frames:a.anims.generateFrameNumbers("textures/player/bullet"),frameRate:20,repeat:-1}),a.anims.create({key:"anims/coin/default",frames:a.anims.generateFrameNumbers("textures/coin"),frameRate:20,repeat:-1}),a.anims.create({key:"anims/enemyBullet/default",frames:[{key:"textures/enemy/bullet",frame:0}],frameRate:20,repeat:-1}),a.anims.create({key:"anims/flirtyGirl/default",frames:[{key:"textures/flirty-girl",frame:0},{key:"textures/flirty-girl",frame:1}],frameRate:6,repeat:-1}),a.anims.create({key:"anims/flirtyGirl/attack",frames:[{key:"textures/flirty-girl",frame:1},{key:"textures/flirty-girl",frame:2},{key:"textures/flirty-girl",frame:3},{key:"textures/flirty-girl",frame:4},{key:"textures/flirty-girl",frame:3},{key:"textures/flirty-girl",frame:4},{key:"textures/flirty-girl",frame:1}],frameRate:6}),a.anims.create({key:"anims/kissBullet/default",frames:a.anims.generateFrameNumbers("textures/kiss-bullet"),frameRate:6,repeat:-1}),a.anims.create({key:"anims/player/explosion",frames:a.anims.generateFrameNumbers("textures/explosion"),frameRate:24}),a.anims.create({key:"anims/ufo/explosion",frames:a.anims.generateFrameNumbers("textures/ufo/explosion"),frameRate:30}),a.anims.create({key:"anims/ufo/fly",frames:a.anims.generateFrameNumbers("textures/ufo"),frameRate:4,repeat:-1}),a.coinSound=a.sound.add("audio/coin"),a.physics.world.setBoundsCollision(!0,!0,!0,!1)}function It(a,e,r){let t;R(a,L,y=>r(4,t=y));let{$$slots:l={},$$scope:n}=e,i,f=!1,s,o;function m(y){ve(y),y.input.on("pointerdown",()=>{r(2,f=!0)}),y.copyright=y.add.sprite(0,0,"textures/copyright").setOrigin(0),y.copyright.x=(800-y.copyright.width)/2,y.copyright.y=600,y.copyright.blendMode=Y.BlendModes.ADD;var k=new TimelineMax({onComplete(){},onCompleteScope:this});y.time.addEvent({delay:250,callback:()=>{k.to(y.copyright,2,{y:600-y.copyright.height-6,ease:Quint.easeOut},"+=0.0"),k.addCallback(function(){},"-=0.1",null,this),k.to(s,.9,{y:75,ease:Quint.easeIn},"-=0.8"),k.to(s,.9,{scaleX:1,scaleY:1,ease:Quint.easeIn},"-=0.9"),k.to(o,1.8,{scaleX:2,scaleY:2,ease:Quint.easeIn},"-=0.9")}})}function b(y){i=y,r(0,i)}function u(y){s=y,r(3,s)}function c(y){o=y,r(1,o)}return a.$$set=y=>{"$$scope"in y&&r(10,n=y.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&(window.game=i),a.$$.dirty&2&&(window.text=o)},[i,o,f,s,t,m,l,b,u,c,n]}class Tt extends M{constructor(e){super();N(this,e,It,Pt,E,{})}}new Tt({target:document.body});
