import{S as N,i as E,s as G,C as Be,c as y,a as d,m as $,t as g,b as p,d as h,e as te,f as Se,g as A,h as U,j as Xe,k as Ye,R as ne,P as X,l as v,n as B,o as w,p as Ne,q as Ee,r as C,u as Ge,T as Me,v as J,w as H,x as Re,y as Y,z as P,A as I,B as L,D as re,E as F,F as O,G as W,H as q,I as Q,J as Ae,K as z,L as ie,M as Pe,N as Ie,O as Fe,Q as T,U as Oe,V as ae,W as se,X as le,Y as fe,Z as oe,_ as ue,$ as We}from"./vendor.10939f32.js";const Te=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}};Te();function He(a){let e,r,t,s;const n=[{width:R},{height:50},{fillColor:7829367},a[4]];let i={};for(let f=0;f<n.length;f+=1)i=U(i,n[f]);return e=new ne({props:i}),t=new ne({props:{x:-R/2,originX:0,originY:.5,width:X.Math.Clamp(R*a[2],10,R),height:50,fillColor:12303291}}),{c(){y(e.$$.fragment),r=v(),y(t.$$.fragment)},l(f){d(e.$$.fragment,f),r=B(f),d(t.$$.fragment,f)},m(f,l){$(e,f,l),w(f,r,l),$(t,f,l),s=!0},p(f,l){const o=l&16?Ne(n,[l&0&&{width:R},n[1],n[2],l&16&&Ee(f[4])]):{};e.$set(o);const u={};l&4&&(u.width=X.Math.Clamp(R*f[2],10,R)),t.$set(u)},i(f){s||(g(e.$$.fragment,f),g(t.$$.fragment,f),s=!0)},o(f){p(e.$$.fragment,f),p(t.$$.fragment,f),s=!1},d(f){h(e,f),f&&C(r),h(t,f)}}}function Le(a){let e,r;return e=new Be({props:{x:a[0],y:a[1],width:R,height:50,$$slots:{default:[He]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},p(t,[s]){const n={};s&1&&(n.x=t[0]),s&2&&(n.y=t[1]),s&84&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}const R=400;function Ke(a,e,r){const t=["x","y","progress"];let s=te(e,t),n,{x:i}=e,{y:f}=e,{progress:l=0}=e;const o=Se(l,{duration:200,easing:Ge});return A(a,o,u=>r(2,n=u)),a.$$set=u=>{e=U(U({},e),Xe(u)),r(4,s=te(e,t)),"x"in u&&r(0,i=u.x),"y"in u&&r(1,f=u.y),"progress"in u&&r(5,l=u.progress)},a.$$.update=()=>{a.$$.dirty&32&&Ye(o,n=l,n)},[i,f,n,o,s,l]}class me extends N{constructor(e){super();E(this,e,Ke,Le,G,{x:0,y:1,progress:5})}}function qe(a){let e,r;return e=new Me({props:{depth:-1,x:0,y:0,width:800,height:600,originX:0,originY:0,texture:"textures/starfield",tilePositionY:a[0]}}),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},p(t,[s]){const n={};s&1&&(n.tilePositionY=t[0]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Qe(a,e,r){let t=0;return J("step",()=>{r(0,t-=2)}),[t]}class ce extends N{constructor(e){super();E(this,e,Qe,qe,G,{})}}function ze(a){let e,r;return e=new H({props:{x:a[0],y:a[1],depth:30,animation:a[2],scale:a[2]=="anims/ufo/explosion"?1:.75}}),e.$on("animationcomplete",a[3]),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},p(t,[s]){const n={};s&1&&(n.x=t[0]),s&2&&(n.y=t[1]),s&4&&(n.animation=t[2]),s&4&&(n.scale=t[2]=="anims/ufo/explosion"?1:.75),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function je(a,e,r){let{x:t}=e,{y:s}=e,{animation:n="anims/enemy/explosion"}=e;function i(f){Re.call(this,a,f)}return a.$$set=f=>{"x"in f&&r(0,t=f.x),"y"in f&&r(1,s=f.y),"animation"in f&&r(2,n=f.animation)},[t,s,n,i]}class Ue extends N{constructor(e){super();E(this,e,je,ze,G,{x:0,y:1,animation:2})}}function Je(a){let e,r,t;function s(i){a[16](i)}let n={animation:a[0]==="enemyBullet"?"anims/enemyBullet/default":a[0]==="flirtyGirlBullet"?"anims/kissBullet/default":"anims/bullet/default",depth:a[3],name:a[0],texture:a[2],x:a[4],y:a[5],scale:a[0]==="flirtyGirlBullet"?.5:1,$$slots:{default:[Ze]},$$scope:{ctx:a}};return a[9]!==void 0&&(n.instance=a[9]),e=new H({props:n}),F.push(()=>O(e,"instance",s)),{c(){y(e.$$.fragment)},l(i){d(e.$$.fragment,i)},m(i,f){$(e,i,f),t=!0},p(i,f){const l={};f&1&&(l.animation=i[0]==="enemyBullet"?"anims/enemyBullet/default":i[0]==="flirtyGirlBullet"?"anims/kissBullet/default":"anims/bullet/default"),f&8&&(l.depth=i[3]),f&1&&(l.name=i[0]),f&4&&(l.texture=i[2]),f&16&&(l.x=i[4]),f&32&&(l.y=i[5]),f&1&&(l.scale=i[0]==="flirtyGirlBullet"?.5:1),f&540354&&(l.$$scope={dirty:f,ctx:i}),!r&&f&512&&(r=!0,l.instance=i[9],W(()=>r=!1)),e.$set(l)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){h(e,i)}}}function Ve(a){let e,r;return e=new Ue({props:{animation:a[13],x:a[12].x,y:a[12].y-32}}),e.$on("animationcomplete",a[14]),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},p(t,s){const n={};s&8192&&(n.animation=t[13]),s&4096&&(n.x=t[12].x),s&4096&&(n.y=t[12].y-32),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Ze(a){let e,r,t,s;return e=new q({props:{with:a[1],overlapOnly:!0}}),e.$on("collide",a[15]),t=new Q({props:{velocityY:a[7],velocityX:a[6]}}),{c(){y(e.$$.fragment),r=v(),y(t.$$.fragment)},l(n){d(e.$$.fragment,n),r=B(n),d(t.$$.fragment,n)},m(n,i){$(e,n,i),w(n,r,i),$(t,n,i),s=!0},p(n,i){const f={};i&2&&(f.with=n[1]),e.$set(f);const l={};i&128&&(l.velocityY=n[7]),i&64&&(l.velocityX=n[6]),t.$set(l)},i(n){s||(g(e.$$.fragment,n),g(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){h(e,n),n&&C(r),h(t,n)}}}function et(a){let e,r,t,s;const n=[Ve,Je],i=[];function f(l,o){return l[10]?0:1}return e=f(a),r=i[e]=n[e](a),{c(){r.c(),t=Y()},l(l){r.l(l),t=Y()},m(l,o){i[e].m(l,o),w(l,t,o),s=!0},p(l,[o]){let u=e;e=f(l),e===u?i[e].p(l,o):(P(),p(i[u],1,1,()=>{i[u]=null}),I(),r=i[e],r?r.p(l,o):(r=i[e]=n[e](l),r.c()),g(r,1),r.m(t.parentNode,t))},i(l){s||(g(r),s=!0)},o(l){p(r),s=!1},d(l){i[e].d(l),l&&C(t)}}}function tt(a,e,r){let{name:t}=e,{target:s}=e,{texture:n}=e,{depth:i=0}=e,{x:f}=e,{y:l}=e,{velocityX:o=0}=e,{velocityY:u=0}=e,{onDestroy:b}=e,m,c=!1,_,k,D,j=L().time.addEvent({callback:()=>{c||b()},delay:3e3});re(()=>()=>j.destroy());const S=()=>b(),De=x=>{r(10,c=!0),r(11,_=x.detail.other.texture.key),r(13,D=_.replace("textures","anims")+"/explosion"),r(12,k={x:m.x,y:m.y})};function ve(x){m=x,r(9,m)}return a.$$set=x=>{"name"in x&&r(0,t=x.name),"target"in x&&r(1,s=x.target),"texture"in x&&r(2,n=x.texture),"depth"in x&&r(3,i=x.depth),"x"in x&&r(4,f=x.x),"y"in x&&r(5,l=x.y),"velocityX"in x&&r(6,o=x.velocityX),"velocityY"in x&&r(7,u=x.velocityY),"onDestroy"in x&&r(8,b=x.onDestroy)},[t,s,n,i,f,l,o,u,b,m,c,_,k,D,S,De,ve]}class V extends N{constructor(e){super();E(this,e,tt,et,G,{name:0,target:1,texture:2,depth:3,x:4,y:5,velocityX:6,velocityY:7,onDestroy:8})}}const Z=z(0),K=z(3),ge=z(0),ee=z(!1),pe=Ae([K,ee],([a,e])=>a<=0?"gameover":e?"win":"playing"),nt=()=>{Z.set(0),K.set(3),ee.set(!1)};function rt(a){let e,r,t,s;return e=new q({props:{with:["enemies","enemyBullet"],overlapOnly:!0}}),e.$on("collide",a[4]),t=new Q({props:{velocityX:a[3],collideWorldBounds:!0}}),{c(){y(e.$$.fragment),r=v(),y(t.$$.fragment)},l(n){d(e.$$.fragment,n),r=B(n),d(t.$$.fragment,n)},m(n,i){$(e,n,i),w(n,r,i),$(t,n,i),s=!0},p(n,i){const f={};i&8&&(f.velocityX=n[3]),t.$set(f)},i(n){s||(g(e.$$.fragment,n),g(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){h(e,n),n&&C(r),h(t,n)}}}function it(a){let e,r,t;function s(i){a[5](i)}let n={depth:10,name:"player",texture:"textures/player",x:a[1],y:a[2],$$slots:{default:[rt]},$$scope:{ctx:a}};return a[0]!==void 0&&(n.instance=a[0]),e=new H({props:n}),F.push(()=>O(e,"instance",s)),{c(){y(e.$$.fragment)},l(i){d(e.$$.fragment,i)},m(i,f){$(e,i,f),t=!0},p(i,[f]){const l={};f&2&&(l.x=i[1]),f&4&&(l.y=i[2]),f&520&&(l.$$scope={dirty:f,ctx:i}),!r&&f&1&&(r=!0,l.instance=i[0],W(()=>r=!1)),e.$set(l)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){h(e,i)}}}const _e=200;function at(a,e,r){let{x:t}=e,{y:s}=e,{instance:n=void 0}=e;const{spawn:i}=ie(),f=L(),l={left:f.input.keyboard.addKey("left"),right:f.input.keyboard.addKey("right"),up:f.input.keyboard.addKey("up"),shoot:f.input.keyboard.addKey("SPACE")};let o=0;J("step",()=>{!l.left.isDown&&!l.right.isDown||l.left.isDown&&l.right.isDown?r(3,o=0):l.left.isDown?r(3,o=-_e):l.right.isDown&&r(3,o=_e),X.Input.Keyboard.JustDown(l.shoot)&&i(V,{name:"playerBullet",texture:"textures/player/bullet",target:"enemy",depth:10,x:n.x,y:n.y-8,velocityY:-250})});const u=()=>K.update(m=>m-1);function b(m){n=m,r(0,n)}return a.$$set=m=>{"x"in m&&r(1,t=m.x),"y"in m&&r(2,s=m.y),"instance"in m&&r(0,n=m.instance)},[n,t,s,o,u,b]}class st extends N{constructor(e){super();E(this,e,at,it,G,{x:1,y:2,instance:0})}}function lt(a){let e,r,t,s;return e=new Q({props:{velocityY:ot}}),t=new q({props:{with:"player",overlapOnly:!0}}),t.$on("collide",a[5]),{c(){y(e.$$.fragment),r=v(),y(t.$$.fragment)},l(n){d(e.$$.fragment,n),r=B(n),d(t.$$.fragment,n)},m(n,i){$(e,n,i),w(n,r,i),$(t,n,i),s=!0},p:Pe,i(n){s||(g(e.$$.fragment,n),g(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){h(e,n),n&&C(r),h(t,n)}}}function ft(a){let e,r,t;function s(i){a[6](i)}let n={name:"coin",x:a[0],y:a[1],scale:.5,animation:"anims/coin/default",$$slots:{default:[lt]},$$scope:{ctx:a}};return a[3]!==void 0&&(n.instance=a[3]),e=new H({props:n}),F.push(()=>O(e,"instance",s)),{c(){y(e.$$.fragment)},l(i){d(e.$$.fragment,i)},m(i,f){$(e,i,f),t=!0},p(i,[f]){const l={};f&1&&(l.x=i[0]),f&2&&(l.y=i[1]),f&132&&(l.$$scope={dirty:f,ctx:i}),!r&&f&8&&(r=!0,l.instance=i[3],W(()=>r=!1)),e.$set(l)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){h(e,i)}}}let ot=40;function ut(a,e,r){const t=L();let{x:s}=e,{y:n}=e,{onCoinCollected:i}=e,f;J("step",()=>{f.y>600&&i()});const l=()=>{i(),ge.update(u=>u+X.Math.RND.integerInRange(1,3)),t.coinSound.play()};function o(u){f=u,r(3,f)}return a.$$set=u=>{"x"in u&&r(0,s=u.x),"y"in u&&r(1,n=u.y),"onCoinCollected"in u&&r(2,i=u.onCoinCollected)},[s,n,i,f,t,l,o]}class mt extends N{constructor(e){super();E(this,e,ut,ft,G,{x:0,y:1,onCoinCollected:2})}}function ct(a){let e,r,t;function s(i){a[12](i)}let n={name:"enemy",x:a[1],y:a[2],animation:a[0],$$slots:{default:[pt]},$$scope:{ctx:a}};return a[5]!==void 0&&(n.instance=a[5]),e=new H({props:n}),F.push(()=>O(e,"instance",s)),{c(){y(e.$$.fragment)},l(i){d(e.$$.fragment,i)},m(i,f){$(e,i,f),t=!0},p(i,f){const l={};f&2&&(l.x=i[1]),f&4&&(l.y=i[2]),f&1&&(l.animation=i[0]),f&66537&&(l.$$scope={dirty:f,ctx:i}),!r&&f&32&&(r=!0,l.instance=i[5],W(()=>r=!1)),e.$set(l)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){h(e,i)}}}function gt(a){let e,r;return e=new mt({props:{x:a[5].x,y:a[5].y,onCoinCollected:a[10]}}),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},p(t,s){const n={};s&32&&(n.x=t[5].x),s&32&&(n.y=t[5].y),s&16&&(n.onCoinCollected=t[10]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function pt(a){let e,r,t,s;return e=new Q({props:{velocityX:a[3],collideWorldBounds:!0}}),t=new q({props:{with:"playerBullet",overlapOnly:!0}}),t.$on("collide",a[11]),{c(){y(e.$$.fragment),r=v(),y(t.$$.fragment)},l(n){d(e.$$.fragment,n),r=B(n),d(t.$$.fragment,n)},m(n,i){$(e,n,i),w(n,r,i),$(t,n,i),s=!0},p(n,i){const f={};i&8&&(f.velocityX=n[3]),e.$set(f)},i(n){s||(g(e.$$.fragment,n),g(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){h(e,n),n&&C(r),h(t,n)}}}function _t(a){let e,r,t,s;const n=[gt,ct],i=[];function f(l,o){return l[6]?0:1}return e=f(a),r=i[e]=n[e](a),{c(){r.c(),t=Y()},l(l){r.l(l),t=Y()},m(l,o){i[e].m(l,o),w(l,t,o),s=!0},p(l,[o]){let u=e;e=f(l),e===u?i[e].p(l,o):(P(),p(i[u],1,1,()=>{i[u]=null}),I(),r=i[e],r?r.p(l,o):(r=i[e]=n[e](l),r.c()),g(r,1),r.m(t.parentNode,t))},i(l){s||(g(r),s=!0)},o(l){p(r),s=!1},d(l){i[e].d(l),l&&C(t)}}}function yt(a,e,r){const t=L();let{animation:s}=e,{x:n}=e,{y:i}=e,{velocityX:f}=e,{onDie:l}=e,o,u=!1,b,m,c;b=t.add.particles("textures/enemy/particles").createEmitter({frequency:-1,blendMode:X.BlendModes.ADD,gravityY:600,alpha:{start:1,end:0,ease:"Cubic.easeIn"},lifespan:500,angle:{min:-180,max:180},speed:{min:0,max:2400},scale:{min:.4,max:.6},frame:[...Array(3).keys()]});let k=t.add.particles("textures/flirty-girl/particles");m=k.createEmitter({frequency:-1,blendMode:X.BlendModes.ADD,gravityY:600,alpha:{start:1,end:0,ease:"Cubic.easeIn"},lifespan:500,angle:{min:-180,max:180},speed:{min:0,max:600},frame:[0]}),c=k.createEmitter({frequency:-1,blendMode:X.BlendModes.ADD,gravityY:600,alpha:{start:1,end:0,ease:"Cubic.easeIn"},lifespan:500,angle:{min:-180,max:180},speed:{min:0,max:600},frame:[1]});const D=()=>{l()},M=()=>{r(6,u=!0),s=="anims/enemy/fly"&&b.explode(100,o.x,o.y),(s=="anims/flirtyGirl/default"||s=="anims/flirtyGirl/attack")&&m.explode(1,o.x,o.y)&&c.explode(1,o.x,o.y)};function j(S){o=S,r(5,o)}return a.$$set=S=>{"animation"in S&&r(0,s=S.animation),"x"in S&&r(1,n=S.x),"y"in S&&r(2,i=S.y),"velocityX"in S&&r(3,f=S.velocityX),"onDie"in S&&r(4,l=S.onDie)},[s,n,i,f,l,o,u,b,m,c,D,M,j]}class dt extends N{constructor(e){super();E(this,e,yt,_t,G,{animation:0,x:1,y:2,velocityX:3,onDie:4})}}function ye(a,e,r){const t=a.slice();return t[10]=e[r],t}function de(a,e){let r,t,s;function n(){return e[4](e[10])}return t=new dt({props:{animation:e[10].animation,x:100+e[10].x,y:70+e[10].y+e[3],velocityX:e[1]==="playing"?e[2]:0,onDie:n}}),{key:a,first:null,c(){r=Y(),y(t.$$.fragment),this.h()},l(i){r=Y(),d(t.$$.fragment,i),this.h()},h(){this.first=r},m(i,f){w(i,r,f),$(t,i,f),s=!0},p(i,f){e=i;const l={};f&1&&(l.animation=e[10].animation),f&1&&(l.x=100+e[10].x),f&9&&(l.y=70+e[10].y+e[3]),f&6&&(l.velocityX=e[1]==="playing"?e[2]:0),f&1&&(l.onDie=n),t.$set(l)},i(i){s||(g(t.$$.fragment,i),s=!0)},o(i){p(t.$$.fragment,i),s=!1},d(i){i&&C(r),h(t,i)}}}function $t(a){let e=[],r=new Map,t,s,n=a[0];const i=f=>f[10].key;for(let f=0;f<n.length;f+=1){let l=ye(a,n,f),o=i(l);r.set(o,e[f]=de(o,l))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();t=Y()},l(f){for(let l=0;l<e.length;l+=1)e[l].l(f);t=Y()},m(f,l){for(let o=0;o<e.length;o+=1)e[o].m(f,l);w(f,t,l),s=!0},p(f,[l]){l&15&&(n=f[0],P(),e=Ie(e,l,i,1,f,n,r,t.parentNode,Fe,de,t,ye),I())},i(f){if(!s){for(let l=0;l<n.length;l+=1)g(e[l]);s=!0}},o(f){for(let l=0;l<e.length;l+=1)p(e[l]);s=!1},d(f){for(let l=0;l<e.length;l+=1)e[l].d(f);f&&C(t)}}}function ht(a,e,r){let t;A(a,pe,c=>r(1,t=c));const s=L(),{spawn:n}=ie();let i=[],f=40,l=0;const o={callback:()=>{t==="playing"&&(r(2,f=-f),r(3,l+=16))},loop:!0,delay:3500},u=s.time.addEvent(o),b=s.time.addEvent({callback:()=>{if(t==="playing"){const c=s.children.getByName("player"),_=s.children.list.filter(D=>D.name==="enemy"),k=_[X.Math.RND.integerInRange(0,_.length-1)];if(c&&k){const D=Math.atan2(c.y-k.y,c.x-k.x)*180/Math.PI,M=s.physics.velocityFromAngle(D,180);k.texture.key=="textures/flirty-girl"?(k.once("animationcomplete-anims/flirtyGirl/attack",()=>{n(V,{name:"flirtyGirlBullet",texture:"textures/kiss-bullet",target:"player",x:k.x,y:k.y,velocityX:M.x,velocityY:M.y}),k.play("anims/flirtyGirl/default")}),k.play("anims/flirtyGirl/attack")):n(V,{name:"enemyBullet",texture:"textures/enemy/bullet",target:"player",x:k.x,y:k.y,velocityX:M.x,velocityY:M.y})}}},loop:!0,delay:2e3});re(()=>()=>{u.destroy(),b.destroy()});const m=c=>{r(0,i=i.filter(_=>_!==c)),Z.update(_=>_+100)};return a.$$.update=()=>{a.$$.dirty&2&&t==="playing"&&(u.reset(o),r(3,l=0),r(0,i=Array.from({length:40}).map((c,_)=>{const k=10,D=_%k,M=Math.floor(_/k);return{x:D*52,y:M*32,key:_+Date.now(),animation:_%2==0?"anims/enemy/fly":"anims/flirtyGirl/default"}}))),a.$$.dirty&1&&i.length===0&&ee.set(!0)},[i,t,f,l,m]}class bt extends N{constructor(e){super();E(this,e,ht,$t,G,{})}}function $e(a){let e,r;return e=new T({props:{x:180,y:575,text:"Move with arrow keys, shoot with spacebar"}}),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function he(a){let e,r,t,s;return e=new T({props:{x:250,y:200,text:a[0]==="win"?"You Win!":"Game Over",fontSize:"48px",align:"center"}}),t=new T({props:{x:280,y:265,text:"Click to restart",fontSize:"20px"}}),{c(){y(e.$$.fragment),r=v(),y(t.$$.fragment)},l(n){d(e.$$.fragment,n),r=B(n),d(t.$$.fragment,n)},m(n,i){$(e,n,i),w(n,r,i),$(t,n,i),s=!0},p(n,i){const f={};i&1&&(f.text=n[0]==="win"?"You Win!":"Game Over"),e.$set(f)},i(n){s||(g(e.$$.fragment,n),g(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){h(e,n),n&&C(r),h(t,n)}}}function kt(a){let e,r,t,s,n,i,f,l,o;e=new T({props:{x:16,y:16,text:`Score: ${a[1]}`}}),t=new T({props:{x:16,y:32,text:`Coins: ${a[2]}`}}),n=new T({props:{x:700,y:16,text:`Lives: ${a[3]}`}});let u=a[0]==="playing"&&a[2]===0&&$e(),b=a[0]!=="playing"&&he(a);return{c(){y(e.$$.fragment),r=v(),y(t.$$.fragment),s=v(),y(n.$$.fragment),i=v(),u&&u.c(),f=v(),b&&b.c(),l=Y()},l(m){d(e.$$.fragment,m),r=B(m),d(t.$$.fragment,m),s=B(m),d(n.$$.fragment,m),i=B(m),u&&u.l(m),f=B(m),b&&b.l(m),l=Y()},m(m,c){$(e,m,c),w(m,r,c),$(t,m,c),w(m,s,c),$(n,m,c),w(m,i,c),u&&u.m(m,c),w(m,f,c),b&&b.m(m,c),w(m,l,c),o=!0},p(m,[c]){const _={};c&2&&(_.text=`Score: ${m[1]}`),e.$set(_);const k={};c&4&&(k.text=`Coins: ${m[2]}`),t.$set(k);const D={};c&8&&(D.text=`Lives: ${m[3]}`),n.$set(D),m[0]==="playing"&&m[2]===0?u?c&5&&g(u,1):(u=$e(),u.c(),g(u,1),u.m(f.parentNode,f)):u&&(P(),p(u,1,1,()=>{u=null}),I()),m[0]!=="playing"?b?(b.p(m,c),c&1&&g(b,1)):(b=he(m),b.c(),g(b,1),b.m(l.parentNode,l)):b&&(P(),p(b,1,1,()=>{b=null}),I())},i(m){o||(g(e.$$.fragment,m),g(t.$$.fragment,m),g(n.$$.fragment,m),g(u),g(b),o=!0)},o(m){p(e.$$.fragment,m),p(t.$$.fragment,m),p(n.$$.fragment,m),p(u),p(b),o=!1},d(m){h(e,m),m&&C(r),h(t,m),m&&C(s),h(n,m),m&&C(i),u&&u.d(m),m&&C(f),b&&b.d(m),m&&C(l)}}}function xt(a,e,r){let t,s,n,i;return A(a,pe,f=>r(0,t=f)),A(a,Z,f=>r(1,s=f)),A(a,ge,f=>r(2,n=f)),A(a,K,f=>r(3,i=f)),Oe("pointerdown",()=>{t!=="playing"&&nt()}),[t,s,n,i]}class wt extends N{constructor(e){super();E(this,e,xt,kt,G,{})}}const Ct=a=>({}),be=a=>({slot:"loading"}),Dt=a=>({}),ke=a=>({slot:"loading"});function vt(a){let e,r;return e=new ae({props:{width:800,height:600,scale:{mode:X.Scale.FIT,autoCenter:X.Scale.CENTER_BOTH},render:{pixelArt:!0},$$slots:{default:[Nt]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},p(t,s){const n={};s&1034&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Bt(a){let e,r,t;function s(i){a[7](i)}let n={width:800,height:600,physics:{default:"arcade"},scale:{mode:X.Scale.FIT,autoCenter:X.Scale.CENTER_BOTH},render:{pixelArt:!0},$$slots:{default:[At]},$$scope:{ctx:a}};return a[0]!==void 0&&(n.instance=a[0]),e=new ae({props:n}),F.push(()=>O(e,"instance",s)),{c(){y(e.$$.fragment)},l(i){d(e.$$.fragment,i)},m(i,f){$(e,i,f),t=!0},p(i,f){const l={};f&1040&&(l.$$scope={dirty:f,ctx:i}),!r&&f&1&&(r=!0,l.instance=i[0],W(()=>r=!1)),e.$set(l)},i(i){t||(g(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){h(e,i)}}}function St(a){let e,r,t,s,n,i,f,l;e=new ce({});function o(c){a[8](c)}let u={scale:2,texture:"textures/logo",originX:0,originY:0,x:(800-537)/2,y:-124};a[3]!==void 0&&(u.instance=a[3]),t=new H({props:u}),F.push(()=>O(t,"instance",o));function b(c){a[9](c)}let m={align:"center",scaleX:-1,scaleY:0,originX:0,originY:0,x:(800-390)/2,y:500,fontSize:"18px",text:">  UPGRADE SHIP  <"};return a[1]!==void 0&&(m.instance=a[1]),i=new T({props:m}),F.push(()=>O(i,"instance",b)),{c(){y(e.$$.fragment),r=v(),y(t.$$.fragment),n=v(),y(i.$$.fragment)},l(c){d(e.$$.fragment,c),r=B(c),d(t.$$.fragment,c),n=B(c),d(i.$$.fragment,c)},m(c,_){$(e,c,_),w(c,r,_),$(t,c,_),w(c,n,_),$(i,c,_),l=!0},p(c,_){const k={};!s&&_&8&&(s=!0,k.instance=c[3],W(()=>s=!1)),t.$set(k);const D={};!f&&_&2&&(f=!0,D.instance=c[1],W(()=>f=!1)),i.$set(D)},i(c){l||(g(e.$$.fragment,c),g(t.$$.fragment,c),g(i.$$.fragment,c),l=!0)},o(c){p(e.$$.fragment,c),p(t.$$.fragment,c),p(i.$$.fragment,c),l=!1},d(c){h(e,c),c&&C(r),h(t,c),c&&C(n),h(i,c)}}}function Xt(a){let e,r;return e=new me({props:{x:400,y:300,progress:a[11]}}),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},p(t,s){const n={};s&2048&&(n.progress=t[11]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Yt(a){let e;const r=a[6].default,t=le(r,a,a[10],be),s=t||Xt(a);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,i){s&&s.m(n,i),e=!0},p(n,i){t?t.p&&(!e||i&1024)&&fe(t,r,n,n[10],e?ue(r,n[10],i,Ct):oe(n[10]),be):s&&s.p&&(!e||i&2048)&&s.p(n,e?i:-1)},i(n){e||(g(s,n),e=!0)},o(n){p(s,n),e=!1},d(n){s&&s.d(n)}}}function Nt(a){let e,r;return e=new se({props:{key:"menu",preload:we,create:a[5],$$slots:{loading:[Yt,({progress:t})=>({11:t}),({progress:t})=>t?2048:0],default:[St,({progress:t})=>({11:t}),({progress:t})=>t?2048:0]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},p(t,s){const n={};s&3082&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function xe(a){let e,r;return e=new st({props:{x:300,y:500}}),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Et(a){let e,r,t,s,n,i,f;e=new ce({}),t=new bt({});let l=a[4]>0&&xe();return i=new wt({}),{c(){y(e.$$.fragment),r=v(),y(t.$$.fragment),s=v(),l&&l.c(),n=v(),y(i.$$.fragment)},l(o){d(e.$$.fragment,o),r=B(o),d(t.$$.fragment,o),s=B(o),l&&l.l(o),n=B(o),d(i.$$.fragment,o)},m(o,u){$(e,o,u),w(o,r,u),$(t,o,u),w(o,s,u),l&&l.m(o,u),w(o,n,u),$(i,o,u),f=!0},p(o,u){o[4]>0?l?u&16&&g(l,1):(l=xe(),l.c(),g(l,1),l.m(n.parentNode,n)):l&&(P(),p(l,1,1,()=>{l=null}),I())},i(o){f||(g(e.$$.fragment,o),g(t.$$.fragment,o),g(l),g(i.$$.fragment,o),f=!0)},o(o){p(e.$$.fragment,o),p(t.$$.fragment,o),p(l),p(i.$$.fragment,o),f=!1},d(o){h(e,o),o&&C(r),h(t,o),o&&C(s),l&&l.d(o),o&&C(n),h(i,o)}}}function Gt(a){let e,r;return e=new We({props:{$$slots:{default:[Et]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},p(t,s){const n={};s&1040&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Mt(a){let e,r;return e=new me({props:{x:400,y:300,progress:a[11]}}),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},p(t,s){const n={};s&2048&&(n.progress=t[11]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Rt(a){let e;const r=a[6].default,t=le(r,a,a[10],ke),s=t||Mt(a);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,i){s&&s.m(n,i),e=!0},p(n,i){t?t.p&&(!e||i&1024)&&fe(t,r,n,n[10],e?ue(r,n[10],i,Dt):oe(n[10]),ke):s&&s.p&&(!e||i&2048)&&s.p(n,e?i:-1)},i(n){e||(g(s,n),e=!0)},o(n){p(s,n),e=!1},d(n){s&&s.d(n)}}}function At(a){let e,r;return e=new se({props:{key:"main",preload:we,create:Ce,$$slots:{loading:[Rt,({progress:t})=>({11:t}),({progress:t})=>t?2048:0],default:[Gt,({progress:t})=>({11:t}),({progress:t})=>t?2048:0]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,s){$(e,t,s),r=!0},p(t,s){const n={};s&3088&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){h(e,t)}}}function Pt(a){let e,r,t,s;const n=[Bt,vt],i=[];function f(l,o){return l[2]?0:1}return e=f(a),r=i[e]=n[e](a),{c(){r.c(),t=Y()},l(l){r.l(l),t=Y()},m(l,o){i[e].m(l,o),w(l,t,o),s=!0},p(l,[o]){let u=e;e=f(l),e===u?i[e].p(l,o):(P(),p(i[u],1,1,()=>{i[u]=null}),I(),r=i[e],r?r.p(l,o):(r=i[e]=n[e](l),r.c()),g(r,1),r.m(t.parentNode,t))},i(l){s||(g(r),s=!0)},o(l){p(r),s=!1},d(l){i[e].d(l),l&&C(t)}}}function we(a){a.load.audio("audio/coin","assets/coin.mp3"),a.load.image("textures/copyright","assets/logo-dark.png"),a.load.image("textures/logo","assets/RonaGun-logo.png"),a.load.image("textures/starfield","assets/star-bg-0.png"),a.load.spritesheet("textures/coin","assets/coin.png",{frameWidth:54,frameHeight:54}),a.load.spritesheet("textures/enemy","assets/invader-gold.png",{frameWidth:79,frameHeight:66}),a.load.spritesheet("textures/enemy/particles","assets/invader-gold-particles.png",{frameWidth:3,frameHeight:3}),a.load.spritesheet("textures/explosion","assets/explode.png",{frameWidth:128,frameHeight:128}),a.load.spritesheet("textures/flirty-girl","assets/flirty-gold-girl.png",{frameWidth:31,frameHeight:40}),a.load.spritesheet("textures/flirty-girl/particles","assets/flirty-girl-particles.png",{frameWidth:15,frameHeight:29}),a.load.spritesheet("textures/kiss-bullet","assets/kiss-bullet.png",{frameWidth:25,frameHeight:21}),a.load.spritesheet("textures/ufo","assets/ufo.png",{frameWidth:32,frameHeight:30}),a.load.spritesheet("textures/ufo/explosion","assets/ufo-explosion.png",{frameWidth:32,frameHeight:30}),a.load.image("textures/player","assets/ship.png"),a.load.spritesheet("textures/player/bullet","assets/sperm.png",{frameWidth:6,frameHeight:22}),a.load.image("textures/enemy/bullet","assets/enemy-bullet.png")}function Ce(a){a.anims.create({key:"anims/enemy/fly",frames:a.anims.generateFrameNumbers("textures/enemy"),frameRate:6,repeat:-1}),a.anims.create({key:"anims/enemy/explosion",frames:a.anims.generateFrameNumbers("textures/explosion"),frameRate:24}),a.anims.create({key:"anims/bullet/default",frames:a.anims.generateFrameNumbers("textures/player/bullet"),frameRate:20,repeat:-1}),a.anims.create({key:"anims/coin/default",frames:a.anims.generateFrameNumbers("textures/coin"),frameRate:20,repeat:-1}),a.anims.create({key:"anims/enemyBullet/default",frames:[{key:"textures/enemy/bullet",frame:0}],frameRate:20,repeat:-1}),a.anims.create({key:"anims/flirtyGirl/default",frames:[{key:"textures/flirty-girl",frame:0},{key:"textures/flirty-girl",frame:1}],frameRate:6,repeat:-1}),a.anims.create({key:"anims/flirtyGirl/attack",frames:[{key:"textures/flirty-girl",frame:1},{key:"textures/flirty-girl",frame:2},{key:"textures/flirty-girl",frame:3},{key:"textures/flirty-girl",frame:4},{key:"textures/flirty-girl",frame:3},{key:"textures/flirty-girl",frame:4},{key:"textures/flirty-girl",frame:1}],frameRate:6}),a.anims.create({key:"anims/kissBullet/default",frames:a.anims.generateFrameNumbers("textures/kiss-bullet"),frameRate:6,repeat:-1}),a.anims.create({key:"anims/player/explosion",frames:a.anims.generateFrameNumbers("textures/explosion"),frameRate:24}),a.anims.create({key:"anims/ufo/explosion",frames:a.anims.generateFrameNumbers("textures/ufo/explosion"),frameRate:30}),a.anims.create({key:"anims/ufo/fly",frames:a.anims.generateFrameNumbers("textures/ufo"),frameRate:4,repeat:-1}),a.coinSound=a.sound.add("audio/coin")}function It(a,e,r){let t;A(a,K,_=>r(4,t=_));let{$$slots:s={},$$scope:n}=e,i,f=!1,l,o;function u(_){Ce(_),_.input.on("pointerdown",()=>{r(2,f=!0)}),_.copyright=_.add.sprite(0,0,"textures/copyright").setOrigin(0),_.copyright.x=(800-_.copyright.width)/2,_.copyright.y=600,_.copyright.blendMode=X.BlendModes.ADD;var k=new TimelineMax({onComplete(){},onCompleteScope:this});_.time.addEvent({delay:250,callback:()=>{k.to(_.copyright,2,{y:600-_.copyright.height-6,ease:Quint.easeOut},"+=0.0"),k.addCallback(function(){},"-=0.1",null,this),k.to(l,.9,{y:75,ease:Quint.easeIn},"-=0.8"),k.to(l,.9,{scaleX:1,scaleY:1,ease:Quint.easeIn},"-=0.9"),k.to(o,1.8,{scaleX:2,scaleY:2,ease:Quint.easeIn},"-=0.9")}})}function b(_){i=_,r(0,i)}function m(_){l=_,r(3,l)}function c(_){o=_,r(1,o)}return a.$$set=_=>{"$$scope"in _&&r(10,n=_.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&(window.game=i),a.$$.dirty&2&&(window.text=o)},[i,o,f,l,t,u,s,b,m,c,n]}class Ft extends N{constructor(e){super();E(this,e,It,Pt,G,{})}}new Ft({target:document.body});
