import{S as R,i as A,s as O,C as Me,c as h,a as _,m as $,t as d,b as y,d as b,e as fe,f as Ne,g as M,h as re,j as Ge,k as ee,R as ue,P as T,l as N,n as G,o as S,p as Re,q as Ae,r as Y,u as Oe,T as Fe,v as te,w as z,x as Pe,y as E,z as W,A as H,B as J,D as me,E as L,F as j,G as q,H as ne,I as ae,J as We,K as Q,L as ce,M as He,N as Le,O as je,Q as U,U as pe,V as de,W as ye,X as ge,Y as he,Z as _e,_ as qe}from"./vendor.b661a3fa.js";const Ke=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}};Ke();class Qe extends Phaser.Plugins.ScenePlugin{constructor(e,a){super(e,a),this.scene=e,this.options=function(t,r){return(r=r||{}).x===0?r.x=1e-5:r.y===0&&(r.y=1e-5),{x:r.x||t.x,y:r.y||t.y,alpha:r.alpha||t.alpha,scaleX:r.scaleX||t.scaleX,scaleY:r.scaleY||t.scaleY,angle:r.angle||t.angle,duration:r.duration||t.duration,yoyo:r.yoyo||t.yoyo,repeat:r.repeat||t.repeat,ease:r.ease||t.ease,delay:r.delay||t.delay,paused:r.paused||t.paused,onStart:r.onStart||t.onStart,onComplete:r.onComplete||t.onComplete}}}boot(){this.systems.events.once("destroy",function(){this.scene=null,this.options=null},this)}add(e){return this.target=e,this}shake(e,a,t){const r=this.scene;e==null&&(e=this.target),t==null&&(t=!1);const s={x:5,y:0,duration:50,yoyo:!0,repeat:8,ease:"Bounce.easeInOut",delay:0,paused:!1};let n=this.options(s,a);return this.shakeTween=r.tweens.add({targets:e,x:e.x+n.x,y:e.y-n.y,duration:n.duration,yoyo:n.yoyo,repeat:n.repeat,ease:n.ease,delay:n.delay,paused:n.paused,onStart:function(i,l){n.onStart!==void 0&&n.onStart(i,l)},onComplete:function(i,l){n.onComplete!==void 0&&n.onComplete(i,l),t&&shake.remove()}}),this}shakeY(e){e==null&&(e=this.target);const a={x:0,y:5};this.shake(e,a)}wobble(e,a,t){const r=this.scene;e==null&&(e=this.target),t==null&&(t=!1);const s={x:20,y:0,duration:150,yoyo:!0,repeat:5,ease:"Sine.easeInOut",delay:0,paused:!1};let n=this.options(s,a);return this.wobbleTween=r.tweens.add({targets:e,x:e.x+n.x,y:e.y+n.y,duration:n.duration,yoyo:n.yoyo,repeat:n.repeat,ease:n.ease,delay:n.delay,paused:n.paused,onStart:function(i,l){n.onStart!==void 0&&n.onStart(i,l)},onComplete:function(i,l){n.onComplete!==void 0&&n.onComplete(i,l),t&&wobble.remove()}}),this}wobbleY(e){e==null&&(e=this.target);const a={x:0,y:20};this.wobble(e,a)}scaleUp(e,a,t){const r=this.scene;e==null&&(e=this.target),t==null&&(t=!1);const s={scaleX:e.scaleX+.25,scaleY:e.scaleY+.25,duration:750,delay:0,paused:!1};let n=this.options(s,a);return this.scaleUpTween=r.tweens.add({targets:e,scaleX:n.scaleX,scaleY:n.scaleY,duration:n.duration,ease:n.ease,delay:n.delay,paused:n.paused,onStart:function(i,l){n.onStart!==void 0&&n.onStart(i,l)},onComplete:function(i,l){n.onComplete!==void 0&&n.onComplete(i,l),t&&grow.remove()}}),this}scaleDown(e,a,t){const r=this.scene;e==null&&(e=this.target),t==null&&(t=!1);const s={scaleX:e.scaleX-.25,scaleY:e.scaleY-.25,duration:750,delay:0,paused:!1};let n=this.options(s,a);return this.scaleDown=r.tweens.add({targets:e,scaleX:n.scaleX,scaleY:n.scaleY,duration:n.duration,ease:n.ease,delay:n.delay,paused:n.paused,onStart:function(i,l){n.onStart!==void 0&&n.onStart(i,l)},onComplete:function(i,l){n.onComplete!==void 0&&n.onComplete(i,l),t&&shrink.remove()}}),this}pulse(e,a,t){const r=this.scene;e==null&&(e=this.target),t==null&&(t=!1);const s={scaleX:1.25*e.scaleX,scaleY:1.25*e.scaleY,duration:750,repeat:2,yoyo:!0,ease:"Quad.easeInOut",delay:0,paused:!1};let n=this.options(s,a);return this.pulseTween=r.tweens.add({targets:e,scaleX:n.scaleX,scaleY:n.scaleY,yoyo:n.yoyo,repeat:n.repeat,duration:n.duration,ease:n.ease,delay:n.delay,paused:n.paused,onStart:function(i,l){n.onStart!==void 0&&n.onStart(i,l)},onComplete:function(i,l){n.onComplete!==void 0&&n.onComplete(i,l),t&&pulse.remove()}}),this}flash(e,a,t){const r=this.scene;return e==null&&(e=this.target),a==null&&(a=150),t==null&&(t="0xffffff"),e.setTintFill(t),r.time.addEvent({delay:a,callback:function(){e.setTint("0xffffff")},callbackScope:this}),this}rotate(e,a,t){const r=this.scene;e==null&&(e=this.target),t==null&&(t=!1);const s={angle:360,duration:500,ease:"Circular.easeInOut",delay:0,paused:!1};let n=this.options(s,a);return this.rotateTween=r.tweens.add({targets:e,angle:n.angle,yoyo:n.yoyo,repeat:n.repeat,duration:n.duration,ease:n.ease,delay:n.delay,paused:n.paused,onStart:function(i,l){n.onStart!==void 0&&n.onStart(i,l)},onComplete:function(i,l){n.onComplete!==void 0&&n.onComplete(i,l),t&&rotate.remove()}}),this}bounce(e,a,t){const r=this.scene;e==null&&(e=this.target),t==null&&(t=!1);const s={y:25,duration:1e3,ease:"Bounce",delay:0,paused:!1};let n=this.options(s,a);return this.bounceTween=r.tweens.add({targets:e,y:e.y+n.y,repeat:n.repeat,duration:n.duration,ease:n.ease,delay:n.delay,paused:n.paused,onStart:function(i,l){n.onStart!==void 0&&n.onStart(i,l)},onComplete:function(i,l){n.onComplete!==void 0&&n.onComplete(i,l),t&&bounce.remove()}}),this}fadeIn(e,a,t){const r=this.scene;e==null&&(e=this.target),t==null&&(t=!1);const s={alpha:1,duration:750,ease:"Circular.easeIn",delay:0,paused:!1};let n=this.options(s,a);return this.fadeInTween=r.tweens.add({targets:e,alpha:n.alpha,duration:n.duration,ease:n.ease,delay:n.delay,paused:n.paused,onStart:function(i,l){n.onStart!==void 0&&n.onStart(i,l)},onComplete:function(i,l){n.onComplete!==void 0&&n.onComplete(i,l),t&&fadeIn.remove()}}),this}fadeOut(e,a,t){const r=this.scene;e==null&&(e=this.target),t==null&&(t=!1);const s={alpha:0,duration:750,ease:"Circular.easeOut",delay:0,paused:!1};let n=this.options(s,a);return this.fadeOutTween=r.tweens.add({targets:e,alpha:n.alpha,duration:n.duration,ease:n.ease,delay:n.delay,paused:n.paused,onStart:function(i,l){n.onStart!==void 0&&n.onStart(i,l)},onComplete:function(i,l){n.onComplete!==void 0&&n.onComplete(i,l),t&&fadeOut.remove()}}),this}fadeInOut(e,a,t){const r=this.scene;e==null&&(e=this.target),t==null&&(t=!1);const s={alpha:0,duration:500,yoyo:!0,repeat:3,ease:"Circular.easeInOut",delay:0,paused:!1};let n=this.options(s,a);return this.fadeInOutTween=r.tweens.add({targets:e,alpha:n.alpha,duration:n.duration,yoyo:n.yoyo,repeat:n.repeat,ease:n.ease,delay:n.delay,paused:n.paused,onStart:function(i,l){n.onStart!==void 0&&n.onStart(i,l)},onComplete:function(i,l){n.onComplete!==void 0&&n.onComplete(i,l),t&&fadeInOut.remove()}}),this}flipX(e,a,t,r){const s=this.scene;e==null&&(e=this.target),a==null&&(a=!0),r==null&&(r=!1);const n={scaleX:a=a?-1:1,duration:500,ease:"Sine.easeInOut",delay:0,paused:!1};let i=this.options(n,t);return this.flipXTween=s.tweens.add({targets:e,scaleX:i.scaleX,duration:i.duration,ease:i.ease,delay:i.delay,paused:i.paused,onStart:function(l,f){i.onStart!==void 0&&i.onStart(l,f)},onComplete:function(l,f){i.onComplete!==void 0&&i.onComplete(l,f),r&&flipX.remove()}}),this}flipY(e,a,t,r){const s=this.scene;e==null&&(e=this.target),a==null&&(a=!0),r==null&&(r=!1);const n={scaleY:a=a?-1:1,duration:500,ease:"Sine.easeInOut",delay:0,paused:!1};let i=this.options(n,t);return this.flipYTween=s.tweens.add({targets:e,scaleY:i.scaleY,duration:i.duration,ease:i.ease,delay:i.delay,paused:i.paused,onStart:function(l,f){i.onStart!==void 0&&i.onStart(l,f)},onComplete:function(l,f){i.onComplete!==void 0&&i.onComplete(l,f),r&&flipY.remove()}}),this}spinX(e,a,t,r){const s=this.scene;e==null&&(e=this.target),a==null&&(a=!0),r==null&&(r=!1);const n={scaleX:a=a?-1:1,duration:500,yoyo:!0,repeat:3,ease:"Sine.easeInOut",delay:0,paused:!1};let i=this.options(n,t);return this.spinXTween=s.tweens.add({targets:e,scaleX:i.scaleX,yoyo:i.yoyo,repeat:i.repeat,duration:i.duration,ease:i.ease,delay:i.delay,paused:i.paused,onStart:function(l,f){i.onStart!==void 0&&i.onStart(l,f)},onComplete:function(l,f){i.onComplete!==void 0&&i.onComplete(l,f),r&&spinX.remove()}}),this}spinY(e,a,t,r){const s=this.scene;e==null&&(e=this.target),a==null&&(a=!0),r==null&&(r=!1);const n={scaleY:a=a?-1:1,duration:500,yoyo:!0,repeat:3,ease:"Sine.easeInOut",delay:0,paused:!1};let i=this.options(n,t);return this.spinYTween=s.tweens.add({targets:e,scaleY:i.scaleY,yoyo:i.yoyo,repeat:i.repeat,duration:i.duration,ease:i.ease,delay:i.delay,paused:i.paused,onStart:function(l,f){i.onStart!==void 0&&i.onStart(l,f)},onComplete:function(l,f){i.onComplete!==void 0&&i.onComplete(l,f),r&&spinY.remove()}}),this}reset(e){return e==null&&(e=this.target),e.setAlpha(1),e.setScale(1),e.setAngle(0),e.setTint("0xffffff"),this}}function Ue(o){let e,a,t,r;const s=[{width:K},{height:50},{fillColor:7829367},o[4]];let n={};for(let i=0;i<s.length;i+=1)n=re(n,s[i]);return e=new ue({props:n}),t=new ue({props:{x:-K/2,originX:0,originY:.5,width:T.Math.Clamp(K*o[2],10,K),height:50,fillColor:12303291}}),{c(){h(e.$$.fragment),a=N(),h(t.$$.fragment)},l(i){_(e.$$.fragment,i),a=G(i),_(t.$$.fragment,i)},m(i,l){$(e,i,l),S(i,a,l),$(t,i,l),r=!0},p(i,l){const f=l&16?Re(s,[l&0&&{width:K},s[1],s[2],l&16&&Ae(i[4])]):{};e.$set(f);const c={};l&4&&(c.width=T.Math.Clamp(K*i[2],10,K)),t.$set(c)},i(i){r||(d(e.$$.fragment,i),d(t.$$.fragment,i),r=!0)},o(i){y(e.$$.fragment,i),y(t.$$.fragment,i),r=!1},d(i){b(e,i),i&&Y(a),b(t,i)}}}function ze(o){let e,a;return e=new Me({props:{x:o[0],y:o[1],width:K,height:50,$$slots:{default:[Ue]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},p(t,[r]){const s={};r&1&&(s.x=t[0]),r&2&&(s.y=t[1]),r&84&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}const K=400;function Je(o,e,a){const t=["x","y","progress"];let r=fe(e,t),s,{x:n}=e,{y:i}=e,{progress:l=0}=e;const f=Ne(l,{duration:200,easing:Oe});return M(o,f,c=>a(2,s=c)),o.$$set=c=>{e=re(re({},e),Ge(c)),a(4,r=fe(e,t)),"x"in c&&a(0,n=c.x),"y"in c&&a(1,i=c.y),"progress"in c&&a(5,l=c.progress)},o.$$.update=()=>{o.$$.dirty&32&&ee(f,s=l,s)},[n,i,s,f,r,l]}class $e extends R{constructor(e){super();A(this,e,Je,ze,O,{x:0,y:1,progress:5})}}function Ve(o){let e,a;return e=new Fe({props:{depth:-1,x:0,y:0,width:800,height:600,originX:0,originY:0,texture:"textures/starfield",tilePositionY:o[0]}}),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},p(t,[r]){const s={};r&1&&(s.tilePositionY=t[0]),e.$set(s)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function Ze(o,e,a){let t=0;return te("step",()=>{a(0,t-=2)}),[t]}class be extends R{constructor(e){super();A(this,e,Ze,Ve,O,{})}}function et(o){let e,a;return e=new z({props:{x:o[0],y:o[1],depth:30,animation:o[2],scale:o[2]=="anims/ufo/explosion"?1:.75}}),e.$on("animationcomplete",o[3]),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},p(t,[r]){const s={};r&1&&(s.x=t[0]),r&2&&(s.y=t[1]),r&4&&(s.animation=t[2]),r&4&&(s.scale=t[2]=="anims/ufo/explosion"?1:.75),e.$set(s)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function tt(o,e,a){let{x:t}=e,{y:r}=e,{animation:s="anims/enemy/explosion"}=e;function n(i){Pe.call(this,o,i)}return o.$$set=i=>{"x"in i&&a(0,t=i.x),"y"in i&&a(1,r=i.y),"animation"in i&&a(2,s=i.animation)},[t,r,s,n]}class nt extends R{constructor(e){super();A(this,e,tt,et,O,{x:0,y:1,animation:2})}}function at(o){let e,a,t;function r(n){o[16](n)}let s={animation:o[0]==="enemyBullet"?"anims/enemyBullet/default":o[0]==="flirtyGirlBullet"?"anims/kissBullet/default":"anims/bullet/default",depth:o[3],name:o[0],texture:o[2],x:o[4],y:o[5],scale:o[0]==="flirtyGirlBullet"?.5:1,$$slots:{default:[rt]},$$scope:{ctx:o}};return o[9]!==void 0&&(s.instance=o[9]),e=new z({props:s}),L.push(()=>j(e,"instance",r)),{c(){h(e.$$.fragment)},l(n){_(e.$$.fragment,n)},m(n,i){$(e,n,i),t=!0},p(n,i){const l={};i&1&&(l.animation=n[0]==="enemyBullet"?"anims/enemyBullet/default":n[0]==="flirtyGirlBullet"?"anims/kissBullet/default":"anims/bullet/default"),i&8&&(l.depth=n[3]),i&1&&(l.name=n[0]),i&4&&(l.texture=n[2]),i&16&&(l.x=n[4]),i&32&&(l.y=n[5]),i&1&&(l.scale=n[0]==="flirtyGirlBullet"?.5:1),i&540610&&(l.$$scope={dirty:i,ctx:n}),!a&&i&512&&(a=!0,l.instance=n[9],q(()=>a=!1)),e.$set(l)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){b(e,n)}}}function st(o){let e,a;return e=new nt({props:{animation:o[13],x:o[12].x,y:o[12].y-32}}),e.$on("animationcomplete",o[14]),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},p(t,r){const s={};r&8192&&(s.animation=t[13]),r&4096&&(s.x=t[12].x),r&4096&&(s.y=t[12].y-32),e.$set(s)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function rt(o){let e,a,t,r;return e=new ne({props:{with:o[1],overlapOnly:!0}}),e.$on("collide",o[15]),t=new ae({props:{velocityY:o[7],velocityX:o[6]}}),{c(){h(e.$$.fragment),a=N(),h(t.$$.fragment)},l(s){_(e.$$.fragment,s),a=G(s),_(t.$$.fragment,s)},m(s,n){$(e,s,n),S(s,a,n),$(t,s,n),r=!0},p(s,n){const i={};n&2&&(i.with=s[1]),e.$set(i);const l={};n&128&&(l.velocityY=s[7]),n&64&&(l.velocityX=s[6]),t.$set(l)},i(s){r||(d(e.$$.fragment,s),d(t.$$.fragment,s),r=!0)},o(s){y(e.$$.fragment,s),y(t.$$.fragment,s),r=!1},d(s){b(e,s),s&&Y(a),b(t,s)}}}function it(o){let e,a,t,r;const s=[st,at],n=[];function i(l,f){return l[10]?0:1}return e=i(o),a=n[e]=s[e](o),{c(){a.c(),t=E()},l(l){a.l(l),t=E()},m(l,f){n[e].m(l,f),S(l,t,f),r=!0},p(l,[f]){let c=e;e=i(l),e===c?n[e].p(l,f):(W(),y(n[c],1,1,()=>{n[c]=null}),H(),a=n[e],a?a.p(l,f):(a=n[e]=s[e](l),a.c()),d(a,1),a.m(t.parentNode,t))},i(l){r||(d(a),r=!0)},o(l){y(a),r=!1},d(l){n[e].d(l),l&&Y(t)}}}function lt(o,e,a){let{name:t}=e,{target:r}=e,{texture:s}=e,{depth:n=10}=e,{x:i}=e,{y:l}=e,{velocityX:f=0}=e,{velocityY:c=0}=e,{onDestroy:g}=e,p,u=!1,k,x,X,D=J().time.addEvent({callback:()=>{u||g()},delay:3e3});me(()=>()=>D.destroy());const v=()=>g(),m=w=>{if(a(11,k=w.detail.other.texture.key),k==="textures/flirty-girl")return g();a(10,u=!0),a(13,X=k.replace("textures","anims")+"/explosion"),a(12,x={x:p.x,y:p.y})};function I(w){p=w,a(9,p)}return o.$$set=w=>{"name"in w&&a(0,t=w.name),"target"in w&&a(1,r=w.target),"texture"in w&&a(2,s=w.texture),"depth"in w&&a(3,n=w.depth),"x"in w&&a(4,i=w.x),"y"in w&&a(5,l=w.y),"velocityX"in w&&a(6,f=w.velocityX),"velocityY"in w&&a(7,c=w.velocityY),"onDestroy"in w&&a(8,g=w.onDestroy)},[t,r,s,n,i,l,f,c,g,p,u,k,x,X,v,m,I]}class ie extends R{constructor(e){super();A(this,e,lt,it,O,{name:0,target:1,texture:2,depth:3,x:4,y:5,velocityX:6,velocityY:7,onDestroy:8})}}const le=Q(0),V=Q(3),ke=Q(0),se=Q(0),ot=Q(!1),Z=Q(!1);let oe=Q({});const we=We([V,ot],([o,e])=>o<=0?"gameover":e?"win":"playing"),ft=()=>{le.set(0),V.set(3)};function ut(o){let e,a,t,r;return e=new ne({props:{with:["enemy","enemyBullet","flirtyGirlBullet"],overlapOnly:!0}}),e.$on("collide",o[5]),t=new ae({props:{velocityX:o[3],collideWorldBounds:!0}}),{c(){h(e.$$.fragment),a=N(),h(t.$$.fragment)},l(s){_(e.$$.fragment,s),a=G(s),_(t.$$.fragment,s)},m(s,n){$(e,s,n),S(s,a,n),$(t,s,n),r=!0},p(s,n){const i={};n&8&&(i.velocityX=s[3]),t.$set(i)},i(s){r||(d(e.$$.fragment,s),d(t.$$.fragment,s),r=!0)},o(s){y(e.$$.fragment,s),y(t.$$.fragment,s),r=!1},d(s){b(e,s),s&&Y(a),b(t,s)}}}function mt(o){let e,a,t;function r(n){o[6](n)}let s={depth:10,name:"player",texture:"textures/player",x:o[1],y:o[2],$$slots:{default:[ut]},$$scope:{ctx:o}};return o[0]!==void 0&&(s.instance=o[0]),e=new z({props:s}),L.push(()=>j(e,"instance",r)),{c(){h(e.$$.fragment)},l(n){_(e.$$.fragment,n)},m(n,i){$(e,n,i),t=!0},p(n,[i]){const l={};i&2&&(l.x=n[1]),i&4&&(l.y=n[2]),i&1033&&(l.$$scope={dirty:i,ctx:n}),!a&&i&1&&(a=!0,l.instance=n[0],q(()=>a=!1)),e.$set(l)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){b(e,n)}}}const ve=200;function ct(o,e,a){let t;M(o,oe,u=>a(7,t=u));let{x:r}=e,{y:s}=e,{instance:n=void 0}=e;const{spawn:i}=ce(),l=J(),f={left:l.input.keyboard.addKey("left"),right:l.input.keyboard.addKey("right"),up:l.input.keyboard.addKey("up"),shoot:l.input.keyboard.addKey("SPACE")};let c=0;te("step",()=>{t.left||f.left.isDown?a(3,c=-ve):t.right||f.right.isDown?a(3,c=ve):a(3,c=0),(t.A||T.Input.Keyboard.JustDown(f.shoot))&&i(ie,{name:"playerBullet",texture:"textures/player/bullet",target:"enemy",depth:10,x:n.x,y:n.y-8,velocityY:-250})});const g=u=>{if(!(u.detail.self.alpha<1)){if(u.detail.other.name==="enemy"){n.setAlpha(.5);let{x:k,y:x}=n,X=l.add.sprite(k,x,"__DEFAULT");X.anims.create({key:"default",frames:l.anims.generateFrameNumbers("textures/explosion"),frameRate:24}),X.on("animationcomplete-default",()=>{X.destroy(),l.time.addEvent({delay:1e3,callback:()=>n.setAlpha(1)})}),X.play("default")}V.update(k=>k-1)}};function p(u){n=u,a(0,n)}return o.$$set=u=>{"x"in u&&a(1,r=u.x),"y"in u&&a(2,s=u.y),"instance"in u&&a(0,n=u.instance)},[n,r,s,c,l,g,p]}class pt extends R{constructor(e){super();A(this,e,ct,mt,O,{x:1,y:2,instance:0})}}function dt(o){let e,a,t,r;return e=new ae({props:{bounce:1,collideWorldBounds:!0,velocityX:Math.random()<.5?15:-15,velocityY:o[6],gravityY:100*o[4],useDamping:!0,circle:{radius:14,offsetX:0,offsetY:0}}}),t=new ne({props:{with:"player",overlapOnly:!0}}),t.$on("collide",o[7]),{c(){h(e.$$.fragment),a=N(),h(t.$$.fragment)},l(s){_(e.$$.fragment,s),a=G(s),_(t.$$.fragment,s)},m(s,n){$(e,s,n),S(s,a,n),$(t,s,n),r=!0},p(s,n){const i={};n&16&&(i.gravityY=100*s[4]),e.$set(i)},i(s){r||(d(e.$$.fragment,s),d(t.$$.fragment,s),r=!0)},o(s){y(e.$$.fragment,s),y(t.$$.fragment,s),r=!1},d(s){b(e,s),s&&Y(a),b(t,s)}}}function yt(o){let e,a,t;function r(n){o[8](n)}let s={name:"coin",x:o[0],y:o[1],scale:.5,animation:"anims/coin/default",$$slots:{default:[dt]},$$scope:{ctx:o}};return o[3]!==void 0&&(s.instance=o[3]),e=new z({props:s}),L.push(()=>j(e,"instance",r)),{c(){h(e.$$.fragment)},l(n){_(e.$$.fragment,n)},m(n,i){$(e,n,i),t=!0},p(n,[i]){const l={};i&1&&(l.x=n[0]),i&2&&(l.y=n[1]),i&1052&&(l.$$scope={dirty:i,ctx:n}),!a&&i&8&&(a=!0,l.instance=n[3],q(()=>a=!1)),e.$set(l)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){b(e,n)}}}function gt(o,e,a){let t;M(o,se,u=>a(9,t=u));const r=J();let{x:s}=e,{y:n}=e,{onCoinCollected:i}=e,l,f=T.Math.Between(-5,-60),c=1;t>0&&(c=Math.floor(1+t/10*3)),te("step",()=>{l.y>600&&i()});const g=()=>{let{x:u,y:k}=l;i();let x=r.add.sprite(u,k,"textures/coin-impact").setDepth(9);x.displayHeight=54,x.scaleX=x.scaleY,x.play("anims/coin-impact"),r.tweens.add({targets:x,alpha:0,y:k-10,duration:500,ease:"Power2",onComplete:x.destroy.bind(x)}),ke.update(X=>X+T.Math.RND.integerInRange(1,3)),r.coinSound.play()};function p(u){l=u,a(3,l)}return o.$$set=u=>{"x"in u&&a(0,s=u.x),"y"in u&&a(1,n=u.y),"onCoinCollected"in u&&a(2,i=u.onCoinCollected)},[s,n,i,l,c,r,f,g,p]}class ht extends R{constructor(e){super();A(this,e,gt,yt,O,{x:0,y:1,onCoinCollected:2})}}function _t(o){let e,a,t;function r(n){o[17](n)}let s={name:"enemy",x:o[1],y:o[2],animation:o[0],$$slots:{default:[bt]},$$scope:{ctx:o}};return o[5]!==void 0&&(s.instance=o[5]),e=new z({props:s}),L.push(()=>j(e,"instance",r)),{c(){h(e.$$.fragment)},l(n){_(e.$$.fragment,n)},m(n,i){$(e,n,i),t=!0},p(n,i){const l={};i&2&&(l.x=n[1]),i&4&&(l.y=n[2]),i&1&&(l.animation=n[0]),i&4196329&&(l.$$scope={dirty:i,ctx:n}),!a&&i&32&&(a=!0,l.instance=n[5],q(()=>a=!1)),e.$set(l)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){b(e,n)}}}function $t(o){let e,a;return e=new ht({props:{x:o[5].x,y:o[5].y,onCoinCollected:o[15]}}),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},p(t,r){const s={};r&32&&(s.x=t[5].x),r&32&&(s.y=t[5].y),r&16&&(s.onCoinCollected=t[15]),e.$set(s)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function bt(o){let e,a,t,r;return e=new ae({props:{width:o[11](o[0]),height:o[12](o[0]),offsetX:o[13](o[0]),offsetY:o[14](o[0]),velocityX:o[3],bounce:1,collideWorldBounds:!0}}),t=new ne({props:{with:"playerBullet",overlapOnly:!0}}),t.$on("collide",o[16]),{c(){h(e.$$.fragment),a=N(),h(t.$$.fragment)},l(s){_(e.$$.fragment,s),a=G(s),_(t.$$.fragment,s)},m(s,n){$(e,s,n),S(s,a,n),$(t,s,n),r=!0},p(s,n){const i={};n&1&&(i.width=s[11](s[0])),n&1&&(i.height=s[12](s[0])),n&1&&(i.offsetX=s[13](s[0])),n&1&&(i.offsetY=s[14](s[0])),n&8&&(i.velocityX=s[3]),e.$set(i)},i(s){r||(d(e.$$.fragment,s),d(t.$$.fragment,s),r=!0)},o(s){y(e.$$.fragment,s),y(t.$$.fragment,s),r=!1},d(s){b(e,s),s&&Y(a),b(t,s)}}}function kt(o){let e,a,t,r;const s=[$t,_t],n=[];function i(l,f){return l[6]?0:1}return e=i(o),a=n[e]=s[e](o),{c(){a.c(),t=E()},l(l){a.l(l),t=E()},m(l,f){n[e].m(l,f),S(l,t,f),r=!0},p(l,[f]){let c=e;e=i(l),e===c?n[e].p(l,f):(W(),y(n[c],1,1,()=>{n[c]=null}),H(),a=n[e],a?a.p(l,f):(a=n[e]=s[e](l),a.c()),d(a,1),a.m(t.parentNode,t))},i(l){r||(d(a),r=!0)},o(l){y(a),r=!1},d(l){n[e].d(l),l&&Y(t)}}}function wt(o,e,a){const t=J();let{animation:r}=e,{x:s}=e,{y:n}=e,{velocityX:i}=e,{onDie:l}=e,f,c=!1,g,p,u,k,x=t.add.particles("textures/enemy/particles"),X=t.add.particles("textures/enemy-silver/particles");g=x.createEmitter({frequency:-1,blendMode:T.BlendModes.ADD,gravityY:600,alpha:{start:1,end:0,ease:"Cubic.easeIn"},lifespan:500,angle:{min:-180,max:180},speed:{min:0,max:2400},scale:{min:.4,max:.6},frame:[...Array(3).keys()]}),p=X.createEmitter({frequency:-1,blendMode:T.BlendModes.ADD,gravityY:600,alpha:{start:1,end:0,ease:"Cubic.easeIn"},lifespan:500,angle:{min:-180,max:180},speed:{min:0,max:2400},scale:{min:.4,max:.6},frame:[...Array(3).keys()]});let C=t.add.particles("textures/flirty-girl/particles");u=C.createEmitter({frequency:-1,blendMode:T.BlendModes.ADD,gravityY:600,alpha:{start:1,end:0,ease:"Cubic.easeIn"},lifespan:500,angle:{min:-180,max:180},speed:{min:0,max:600},frame:[0]}),k=C.createEmitter({frequency:-1,blendMode:T.BlendModes.ADD,gravityY:600,alpha:{start:1,end:0,ease:"Cubic.easeIn"},lifespan:500,angle:{min:-180,max:180},speed:{min:0,max:600},frame:[1]}),te("step",()=>{f.y>600&&l(0)});const D=B=>{switch(B){case"anims/flyBrain/fly":return 32;case"anims/enemy/fly":case"anims/enemySilver/fly":return 33;case"anims/flirtyGirl/default":return 26;case"anims/ufo/fly":return 32;default:return 26}},v=B=>{switch(B){case"anims/flyBrain/fly":return 32;case"anims/enemy/fly":case"anims/enemySilver/fly":return 24;case"anims/flirtyGirl/default":return 24;case"anims/ufo/fly":return 24;default:return 24}},m=B=>{switch(B){case"anims/flyBrain/fly":return 0;case"anims/enemy/fly":case"anims/enemySilver/fly":return 23;case"anims/flirtyGirl/default":return 4;case"anims/ufo/fly":return 0;default:return 0}},I=B=>{switch(B){case"anims/flyBrain/fly":return 0;case"anims/enemy/fly":case"anims/enemySilver/fly":return 21;case"anims/flirtyGirl/default":return 15;case"anims/ufo/fly":return 0;default:return 0}},w=()=>{l()},F=()=>{a(6,c=!0),["anims/enemy/fly","anims/flyBrain/fly"].includes(r)&&g.explode(100,f.x,f.y),r=="anims/enemySilver/fly"&&p.explode(100,f.x,f.y),(r=="anims/flirtyGirl/default"||r=="anims/flirtyGirl/attack")&&u.explode(1,f.x,f.y)&&k.explode(1,f.x,f.y)};function P(B){f=B,a(5,f)}return o.$$set=B=>{"animation"in B&&a(0,r=B.animation),"x"in B&&a(1,s=B.x),"y"in B&&a(2,n=B.y),"velocityX"in B&&a(3,i=B.velocityX),"onDie"in B&&a(4,l=B.onDie)},[r,s,n,i,l,f,c,g,p,u,k,D,v,m,I,w,F,P]}class vt extends R{constructor(e){super();A(this,e,wt,kt,O,{animation:0,x:1,y:2,velocityX:3,onDie:4})}}function xt(o){let e=o.children.length-1;for(;e>=0;){let a=o.children.list[e];(a.type==="Image"||a.type==="ParticleEmitterManager"||a.type==="Sprite"||a.type==="Text"||a.type==="TileSprite")&&(a.destroy(),o.tweens.killTweensOf(a)),e--}}function xe(o,e,a){const t=o.slice();return t[14]=e[a],t}function Ce(o,e){let a,t,r;function s(...n){return e[5](e[14],...n)}return t=new vt({props:{animation:e[14].animation,x:100+e[14].x,y:70+e[14].y+e[3],velocityX:e[1]==="playing"?e[2]:0,onDie:s}}),{key:o,first:null,c(){a=E(),h(t.$$.fragment),this.h()},l(n){a=E(),_(t.$$.fragment,n),this.h()},h(){this.first=a},m(n,i){S(n,a,i),$(t,n,i),r=!0},p(n,i){e=n;const l={};i&1&&(l.animation=e[14].animation),i&1&&(l.x=100+e[14].x),i&9&&(l.y=70+e[14].y+e[3]),i&6&&(l.velocityX=e[1]==="playing"?e[2]:0),i&1&&(l.onDie=s),t.$set(l)},i(n){r||(d(t.$$.fragment,n),r=!0)},o(n){y(t.$$.fragment,n),r=!1},d(n){n&&Y(a),b(t,n)}}}function Ct(o){let e=[],a=new Map,t,r,s=o[0];const n=i=>i[14].key;for(let i=0;i<s.length;i+=1){let l=xe(o,s,i),f=n(l);a.set(f,e[i]=Ce(f,l))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=E()},l(i){for(let l=0;l<e.length;l+=1)e[l].l(i);t=E()},m(i,l){for(let f=0;f<e.length;f+=1)e[f].m(i,l);S(i,t,l),r=!0},p(i,[l]){l&15&&(s=i[0],W(),e=He(e,l,n,1,i,s,a,t.parentNode,Le,Ce,t,xe),H())},i(i){if(!r){for(let l=0;l<s.length;l+=1)d(e[l]);r=!0}},o(i){for(let l=0;l<e.length;l+=1)y(e[l]);r=!1},d(i){for(let l=0;l<e.length;l+=1)e[l].d(i);i&&Y(t)}}}function St(o,e,a){let t,r,s;M(o,se,C=>a(4,t=C)),M(o,Z,C=>a(7,r=C)),M(o,we,C=>a(1,s=C));const n=J(),{spawn:i}=ce();let l=[],f=40,c=1;t>0&&(c=1+t/10*3),f*=c;let g=0;const p={callback:()=>{if(s==="playing"){a(3,g+=16);const C=n.children.list.filter(D=>D.name==="enemy");if(C.length<=20&&u.delay==3500){let D={callback:p.callback,loop:!0,delay:1e3};u.reset(D)}if(C.length<=10&&u.delay==1e3){let D={callback:p.callback,loop:!0,delay:500};u.reset(D)}}},loop:!0,delay:3500},u=n.time.addEvent(p),k=n.time.addEvent({callback:()=>{if(!r&&s==="playing"){const C=n.children.getByName("player"),D=n.children.list.filter(m=>m.name==="enemy"),v=D[T.Math.RND.integerInRange(0,D.length-1)];if(C&&v){const m=Math.atan2(C.y-v.y,C.x-v.x)*180/Math.PI,I=n.physics.velocityFromAngle(m,180);v.texture.key=="textures/flirty-girl"?(v&&v.once("animationcomplete-anims/flirtyGirl/attack",()=>{i(ie,{name:"flirtyGirlBullet",texture:"textures/kiss-bullet",target:"player",x:v.x,y:v.y,velocityX:I.x,velocityY:I.y}),v.play("anims/flirtyGirl/default")}),v.play("anims/flirtyGirl/attack")):i(ie,{name:"enemyBullet",texture:"textures/enemy/bullet",target:"player",x:v.x,y:v.y,velocityX:I.x,velocityY:I.y})}}},loop:!0,delay:Math.floor(2e3/c)});me(()=>()=>{u.destroy(),k.destroy()});let x=[["anims/enemy/fly","anims/flirtyGirl/default"],["anims/enemySilver/fly","anims/ufo/fly"],["anims/ufo/fly","anims/ufo/fly"],["anims/flirtyGirl/default","anims/flirtyGirl/default"],["anims/enemySilver/fly","anims/enemy/fly"],["anims/flyBrain/fly","anims/flirtyGirl/default"]];const X=(C,D=100)=>{a(0,l=l.filter(v=>v!==C)),le.update(v=>v+D)};return o.$$.update=()=>{if(o.$$.dirty&18&&s==="playing"){let C=x[t]?x[t]:x[0];u.reset(p),a(3,g=0),a(0,l=Array.from({length:40}).map((D,v)=>{const m=10,I=v%m,w=Math.floor(v/m);return{x:I*52,y:w*41,key:v+Date.now(),animation:v%2==0?C[0]:C[1]}}))}o.$$.dirty&17&&l.length===0&&(ee(Z,r=!0,r),xt(n),n.scene.restart({currentLevel:t+1}))},[l,s,f,g,t,X]}class Yt extends R{constructor(e){super();A(this,e,St,Ct,O,{})}}function Se(o){let e,a,t,r,s,n,i,l,f;e=new U({props:{x:16,y:16,text:`Score: ${o[2]}`}}),t=new U({props:{x:16,y:32,text:`Coins: ${o[3]}`}}),s=new U({props:{x:700,y:16,text:`Lives: ${o[4]}`}});let c=o[0]==="playing"&&o[3]===0&&Ye(),g=o[0]!=="playing"&&Xe(o);return{c(){h(e.$$.fragment),a=N(),h(t.$$.fragment),r=N(),h(s.$$.fragment),n=N(),c&&c.c(),i=N(),g&&g.c(),l=E()},l(p){_(e.$$.fragment,p),a=G(p),_(t.$$.fragment,p),r=G(p),_(s.$$.fragment,p),n=G(p),c&&c.l(p),i=G(p),g&&g.l(p),l=E()},m(p,u){$(e,p,u),S(p,a,u),$(t,p,u),S(p,r,u),$(s,p,u),S(p,n,u),c&&c.m(p,u),S(p,i,u),g&&g.m(p,u),S(p,l,u),f=!0},p(p,u){const k={};u&4&&(k.text=`Score: ${p[2]}`),e.$set(k);const x={};u&8&&(x.text=`Coins: ${p[3]}`),t.$set(x);const X={};u&16&&(X.text=`Lives: ${p[4]}`),s.$set(X),p[0]==="playing"&&p[3]===0?c?u&9&&d(c,1):(c=Ye(),c.c(),d(c,1),c.m(i.parentNode,i)):c&&(W(),y(c,1,1,()=>{c=null}),H()),p[0]!=="playing"?g?(g.p(p,u),u&1&&d(g,1)):(g=Xe(p),g.c(),d(g,1),g.m(l.parentNode,l)):g&&(W(),y(g,1,1,()=>{g=null}),H())},i(p){f||(d(e.$$.fragment,p),d(t.$$.fragment,p),d(s.$$.fragment,p),d(c),d(g),f=!0)},o(p){y(e.$$.fragment,p),y(t.$$.fragment,p),y(s.$$.fragment,p),y(c),y(g),f=!1},d(p){b(e,p),p&&Y(a),b(t,p),p&&Y(r),b(s,p),p&&Y(n),c&&c.d(p),p&&Y(i),g&&g.d(p),p&&Y(l)}}}function Ye(o){let e,a;return e=new U({props:{x:180,y:575,text:"Move with arrow keys, shoot with spacebar"}}),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function Xe(o){let e,a,t,r;return e=new U({props:{x:250,y:200,text:o[0]==="win"?"You Win!":"Game Over",fontSize:"48px",align:"center"}}),t=new U({props:{x:280,y:265,text:"Click to restart",fontSize:"20px"}}),{c(){h(e.$$.fragment),a=N(),h(t.$$.fragment)},l(s){_(e.$$.fragment,s),a=G(s),_(t.$$.fragment,s)},m(s,n){$(e,s,n),S(s,a,n),$(t,s,n),r=!0},p(s,n){const i={};n&1&&(i.text=s[0]==="win"?"You Win!":"Game Over"),e.$set(i)},i(s){r||(d(e.$$.fragment,s),d(t.$$.fragment,s),r=!0)},o(s){y(e.$$.fragment,s),y(t.$$.fragment,s),r=!1},d(s){b(e,s),s&&Y(a),b(t,s)}}}function Xt(o){let e,a,t=!o[1]&&Se(o);return{c(){t&&t.c(),e=E()},l(r){t&&t.l(r),e=E()},m(r,s){t&&t.m(r,s),S(r,e,s),a=!0},p(r,[s]){r[1]?t&&(W(),y(t,1,1,()=>{t=null}),H()):t?(t.p(r,s),s&2&&d(t,1)):(t=Se(r),t.c(),d(t,1),t.m(e.parentNode,e))},i(r){a||(d(t),a=!0)},o(r){y(t),a=!1},d(r){t&&t.d(r),r&&Y(e)}}}function Bt(o,e,a){let t,r,s,n,i;return M(o,we,l=>a(0,t=l)),M(o,Z,l=>a(1,r=l)),M(o,le,l=>a(2,s=l)),M(o,ke,l=>a(3,n=l)),M(o,V,l=>a(4,i=l)),je("pointerdown",()=>{t!=="playing"&&ft()}),[t,r,s,n,i]}class It extends R{constructor(e){super();A(this,e,Bt,Xt,O,{})}}const Dt=o=>({}),Be=o=>({slot:"loading"}),Tt=o=>({}),Ie=o=>({slot:"loading"});function Et(o){let e,a,t;function r(n){o[14](n)}let s={width:800,height:600,scale:{mode:T.Scale.FIT,autoCenter:T.Scale.CENTER_BOTH},render:{pixelArt:!0},physics:{default:"arcade"},plugins:{scene:[{key:"phaserJuice",plugin:Qe,mapping:"juice"}]},$$slots:{default:[At]},$$scope:{ctx:o}};return o[1]!==void 0&&(s.instance=o[1]),e=new pe({props:s}),L.push(()=>j(e,"instance",r)),{c(){h(e.$$.fragment)},l(n){_(e.$$.fragment,n)},m(n,i){$(e,n,i),t=!0},p(n,i){const l={};i&32792&&(l.$$scope={dirty:i,ctx:n}),!a&&i&2&&(a=!0,l.instance=n[1],q(()=>a=!1)),e.$set(l)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){b(e,n)}}}function Mt(o){let e,a,t;function r(n){o[11](n)}let s={width:800,height:600,physics:{default:"arcade"},scale:{mode:T.Scale.FIT,autoCenter:T.Scale.CENTER_BOTH},render:{pixelArt:!0},$$slots:{default:[Ht]},$$scope:{ctx:o}};return o[0]!==void 0&&(s.instance=o[0]),e=new pe({props:s}),L.push(()=>j(e,"instance",r)),{c(){h(e.$$.fragment)},l(n){_(e.$$.fragment,n)},m(n,i){$(e,n,i),t=!0},p(n,i){const l={};i&32864&&(l.$$scope={dirty:i,ctx:n}),!a&&i&1&&(a=!0,l.instance=n[0],q(()=>a=!1)),e.$set(l)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){b(e,n)}}}function Nt(o){let e,a,t,r,s,n,i,l;e=new be({});function f(u){o[12](u)}let c={scale:2,texture:"textures/logo",originX:0,originY:0,x:(800-537)/2,y:-124};o[3]!==void 0&&(c.instance=o[3]),t=new z({props:c}),L.push(()=>j(t,"instance",f));function g(u){o[13](u)}let p={align:"center",scaleX:-1,scaleY:0,originX:0,originY:0,x:(800-390)/2,y:500,fontSize:"18px",text:">  UPGRADE SHIP  <"};return o[4]!==void 0&&(p.instance=o[4]),n=new U({props:p}),L.push(()=>j(n,"instance",g)),{c(){h(e.$$.fragment),a=N(),h(t.$$.fragment),s=N(),h(n.$$.fragment)},l(u){_(e.$$.fragment,u),a=G(u),_(t.$$.fragment,u),s=G(u),_(n.$$.fragment,u)},m(u,k){$(e,u,k),S(u,a,k),$(t,u,k),S(u,s,k),$(n,u,k),l=!0},p(u,k){const x={};!r&&k&8&&(r=!0,x.instance=u[3],q(()=>r=!1)),t.$set(x);const X={};!i&&k&16&&(i=!0,X.instance=u[4],q(()=>i=!1)),n.$set(X)},i(u){l||(d(e.$$.fragment,u),d(t.$$.fragment,u),d(n.$$.fragment,u),l=!0)},o(u){y(e.$$.fragment,u),y(t.$$.fragment,u),y(n.$$.fragment,u),l=!1},d(u){b(e,u),u&&Y(a),b(t,u),u&&Y(s),b(n,u)}}}function Gt(o){let e,a;return e=new $e({props:{x:400,y:300,progress:o[17]}}),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},p(t,r){const s={};r&131072&&(s.progress=t[17]),e.$set(s)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function Rt(o){let e;const a=o[10].default,t=ye(a,o,o[15],Be),r=t||Gt(o);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,n){r&&r.m(s,n),e=!0},p(s,n){t?t.p&&(!e||n&32768)&&ge(t,a,s,s[15],e?_e(a,s[15],n,Dt):he(s[15]),Be):r&&r.p&&(!e||n&131072)&&r.p(s,e?n:-1)},i(s){e||(d(r,s),e=!0)},o(s){y(r,s),e=!1},d(s){r&&r.d(s)}}}function At(o){let e,a;return e=new de({props:{key:"menu",preload:Ee,create:o[8],$$slots:{loading:[Rt,({progress:t})=>({17:t}),({progress:t})=>t?131072:0],default:[Nt,({progress:t})=>({17:t}),({progress:t})=>t?131072:0]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},p(t,r){const s={};r&163864&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function De(o){let e,a;return e=new qe({props:{$$slots:{default:[Ot]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},p(t,r){const s={};r&32832&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function Te(o){let e,a;return e=new pt({props:{x:300,y:500}}),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function Ot(o){let e,a,t,r,s,n,i;e=new be({}),t=new Yt({});let l=o[6]>0&&Te();return n=new It({}),{c(){h(e.$$.fragment),a=N(),h(t.$$.fragment),r=N(),l&&l.c(),s=N(),h(n.$$.fragment)},l(f){_(e.$$.fragment,f),a=G(f),_(t.$$.fragment,f),r=G(f),l&&l.l(f),s=G(f),_(n.$$.fragment,f)},m(f,c){$(e,f,c),S(f,a,c),$(t,f,c),S(f,r,c),l&&l.m(f,c),S(f,s,c),$(n,f,c),i=!0},p(f,c){f[6]>0?l?c&64&&d(l,1):(l=Te(),l.c(),d(l,1),l.m(s.parentNode,s)):l&&(W(),y(l,1,1,()=>{l=null}),H())},i(f){i||(d(e.$$.fragment,f),d(t.$$.fragment,f),d(l),d(n.$$.fragment,f),i=!0)},o(f){y(e.$$.fragment,f),y(t.$$.fragment,f),y(l),y(n.$$.fragment,f),i=!1},d(f){b(e,f),f&&Y(a),b(t,f),f&&Y(r),l&&l.d(f),f&&Y(s),b(n,f)}}}function Ft(o){let e,a,t=!o[5]&&De(o);return{c(){t&&t.c(),e=E()},l(r){t&&t.l(r),e=E()},m(r,s){t&&t.m(r,s),S(r,e,s),a=!0},p(r,s){r[5]?t&&(W(),y(t,1,1,()=>{t=null}),H()):t?(t.p(r,s),s&32&&d(t,1)):(t=De(r),t.c(),d(t,1),t.m(e.parentNode,e))},i(r){a||(d(t),a=!0)},o(r){y(t),a=!1},d(r){t&&t.d(r),r&&Y(e)}}}function Pt(o){let e,a;return e=new $e({props:{x:400,y:300,progress:o[17]}}),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},p(t,r){const s={};r&131072&&(s.progress=t[17]),e.$set(s)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function Wt(o){let e;const a=o[10].default,t=ye(a,o,o[15],Ie),r=t||Pt(o);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,n){r&&r.m(s,n),e=!0},p(s,n){t?t.p&&(!e||n&32768)&&ge(t,a,s,s[15],e?_e(a,s[15],n,Tt):he(s[15]),Ie):r&&r.p&&(!e||n&131072)&&r.p(s,e?n:-1)},i(s){e||(d(r,s),e=!0)},o(s){y(r,s),e=!1},d(s){r&&r.d(s)}}}function Ht(o){let e,a;return e=new de({props:{key:"main",preload:Ee,create:o[7],$$slots:{loading:[Wt,({progress:t})=>({17:t}),({progress:t})=>t?131072:0],default:[Ft,({progress:t})=>({17:t}),({progress:t})=>t?131072:0]},$$scope:{ctx:o}}}),{c(){h(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,r){$(e,t,r),a=!0},p(t,r){const s={};r&163936&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(d(e.$$.fragment,t),a=!0)},o(t){y(e.$$.fragment,t),a=!1},d(t){b(e,t)}}}function Lt(o){let e,a,t,r;const s=[Mt,Et],n=[];function i(l,f){return l[2]?0:1}return e=i(o),a=n[e]=s[e](o),{c(){a.c(),t=E()},l(l){a.l(l),t=E()},m(l,f){n[e].m(l,f),S(l,t,f),r=!0},p(l,[f]){let c=e;e=i(l),e===c?n[e].p(l,f):(W(),y(n[c],1,1,()=>{n[c]=null}),H(),a=n[e],a?a.p(l,f):(a=n[e]=s[e](l),a.c()),d(a,1),a.m(t.parentNode,t))},i(l){r||(d(a),r=!0)},o(l){y(a),r=!1},d(l){n[e].d(l),l&&Y(t)}}}function Ee(o){o.load.audio("audio/coin","assets/coin.mp3"),o.load.image("textures/copyright","assets/logo-dark.png"),o.load.image("textures/logo","assets/RonaGun-logo.png"),o.load.image("textures/starfield","assets/star-bg-0.png"),o.load.spritesheet("textures/coin","assets/coin.png",{frameWidth:54,frameHeight:54}),o.load.spritesheet("textures/coin-impact","assets/coin-impact.png",{frameWidth:20,frameHeight:16}),o.load.spritesheet("textures/enemy","assets/invader-gold.png",{frameWidth:79,frameHeight:66}),o.load.spritesheet("textures/enemy-silver","assets/invader-silver.png",{frameWidth:77,frameHeight:63}),o.load.spritesheet("textures/enemy/particles","assets/invader-gold-particles.png",{frameWidth:3,frameHeight:3}),o.load.spritesheet("textures/enemy-silver/particles","assets/invader-silver-particles.png",{frameWidth:3,frameHeight:3}),o.load.spritesheet("textures/explosion","assets/explode.png",{frameWidth:128,frameHeight:128}),o.load.spritesheet("textures/flirty-girl","assets/flirty-gold-girl.png",{frameWidth:31,frameHeight:40}),o.load.spritesheet("textures/flirty-girl/particles","assets/flirty-girl-particles.png",{frameWidth:15,frameHeight:29}),o.load.spritesheet("textures/fly-brain","assets/fly-brain-32x32.png",{frameWidth:32,frameHeight:32}),o.load.spritesheet("textures/headphone-invader","assets/headphone-invader.png",{frameWidth:300,frameHeight:300}),o.load.spritesheet("textures/kiss-bullet","assets/kiss-bullet.png",{frameWidth:25,frameHeight:21}),o.load.spritesheet("textures/ufo","assets/ufo.png",{frameWidth:32,frameHeight:30}),o.load.spritesheet("textures/ufo/explosion","assets/ufo-explosion.png",{frameWidth:32,frameHeight:30}),o.load.image("textures/player","assets/ship.png"),o.load.spritesheet("textures/player/bullet","assets/sperm.png",{frameWidth:6,frameHeight:22}),o.load.image("textures/enemy/bullet","assets/enemy-bullet.png")}function jt(o,e,a){let t,r,s,n;M(o,oe,m=>a(9,t=m)),M(o,se,m=>a(16,r=m)),M(o,Z,m=>a(5,s=m)),M(o,V,m=>a(6,n=m));let{$$slots:i={},$$scope:l}=e,f,c,g=!1;function p(m){if(m.anims.create({key:"anims/coin-impact",frames:m.anims.generateFrameNumbers("textures/coin-impact"),duration:500,hideOnComplete:!0}),m.anims.create({key:"anims/enemy/fly",frames:m.anims.generateFrameNumbers("textures/enemy"),frameRate:6,repeat:-1}),m.anims.create({key:"anims/enemySilver/fly",frames:m.anims.generateFrameNumbers("textures/enemy-silver"),frameRate:6,repeat:-1}),m.anims.create({key:"anims/enemy/explosion",frames:m.anims.generateFrameNumbers("textures/explosion"),frameRate:24}),m.anims.create({key:"anims/enemy-silver/explosion",frames:m.anims.generateFrameNumbers("textures/explosion"),frameRate:24}),m.anims.create({key:"anims/fly-brain/explosion",frames:m.anims.generateFrameNumbers("textures/explosion"),frameRate:24}),m.anims.create({key:"anims/flyBrain/fly",frames:m.anims.generateFrameNumbers("textures/fly-brain"),frameRate:6,repeat:-1}),m.anims.create({key:"anims/bullet/default",frames:m.anims.generateFrameNumbers("textures/player/bullet"),frameRate:20,repeat:-1}),m.anims.create({key:"anims/coin/default",frames:m.anims.generateFrameNumbers("textures/coin"),frameRate:20,repeat:-1}),m.anims.create({key:"anims/enemyBullet/default",frames:[{key:"textures/enemy/bullet",frame:0}],frameRate:20,repeat:-1}),m.anims.create({key:"anims/flirtyGirl/default",frames:[{key:"textures/flirty-girl",frame:0},{key:"textures/flirty-girl",frame:1}],frameRate:6,repeat:-1}),m.anims.create({key:"anims/flirtyGirl/attack",frames:[{key:"textures/flirty-girl",frame:1},{key:"textures/flirty-girl",frame:2},{key:"textures/flirty-girl",frame:3},{key:"textures/flirty-girl",frame:4},{key:"textures/flirty-girl",frame:3},{key:"textures/flirty-girl",frame:4},{key:"textures/flirty-girl",frame:1}],frameRate:6}),m.anims.create({key:"anims/kissBullet/default",frames:m.anims.generateFrameNumbers("textures/kiss-bullet"),frameRate:6,repeat:-1}),m.anims.create({key:"anims/player/explosion",frames:m.anims.generateFrameNumbers("textures/explosion"),frameRate:24}),m.anims.create({key:"anims/ufo/explosion",frames:m.anims.generateFrameNumbers("textures/ufo/explosion"),frameRate:30}),m.anims.create({key:"anims/ufo/fly",frames:m.anims.generateFrameNumbers("textures/ufo"),frameRate:4,repeat:-1}),m.coinSound=m.sound.add("audio/coin"),m.physics.world.setBoundsCollision(!0,!0,!0,!1),m.scene.settings.data.currentLevel){ee(se,r=m.scene.settings.data.currentLevel,r);let I=m.add.text(800/2,-100,`Level ${r+1}`).setDepth(30);m.physics.world.enableBody(I),m.time.addEvent({delay:250,callback:()=>I.body.setVelocityY(125)}),m.time.addEvent({delay:1e4,callback:()=>I.destroy()})}m.input.gamepad.once("down",I=>{ee(oe,t=I,t)}),Z.set(!1)}let u,k;function x(m){let{height:I,width:w}=m.scale,F=m.add.sprite(w/2,-300,"textures/headphone-invader");F.blendMode=T.BlendModes.ADD,F.anims.create({key:"anims/headphone-invader/default",frames:m.anims.generateFrameNumbers("textures/headphone-invader",{start:4,end:8}),frameRate:6,repeat:-1}),F.play("anims/headphone-invader/default"),m.input.on("pointerdown",()=>{a(2,g=!0)}),m.copyright=m.add.sprite(0,0,"textures/copyright").setOrigin(0),m.copyright.x=(800-m.copyright.width)/2,m.copyright.y=600,m.copyright.blendMode=T.BlendModes.ADD;var P=new TimelineMax({onComplete(){},onCompleteScope:this});m.time.addEvent({delay:250,callback:()=>{P.to(F,3,{y:I/2,ease:Quint.easeOut},"+=0.0"),P.addCallback(()=>{m.juice.pulse(F),m.juice.flipX(F),m.juice.wobble(F)},"-=0.1",null,this),P.to(m.copyright,2,{y:600-m.copyright.height-6,ease:Quint.easeOut},"+=0.0"),P.addCallback(function(){},"-=0.1",null,this),P.to(u,.9,{y:75,ease:Quint.easeIn},"-=0.8"),P.to(u,.9,{scaleX:1,scaleY:1,ease:Quint.easeIn},"-=0.9"),P.to(k,1.4,{scaleX:2,scaleY:2,ease:Quint.easeIn},"-=0.7")}})}function X(m){f=m,a(0,f)}function C(m){u=m,a(3,u)}function D(m){k=m,a(4,k)}function v(m){c=m,a(1,c)}return o.$$set=m=>{"$$scope"in m&&a(15,l=m.$$scope)},o.$$.update=()=>{o.$$.dirty&1&&(window.game=f),o.$$.dirty&2&&(window.menu=c),o.$$.dirty&512&&(window.ding=t)},[f,c,g,u,k,s,n,p,x,t,i,X,C,D,v,l]}class qt extends R{constructor(e){super();A(this,e,jt,Lt,O,{})}}new qt({target:document.body});
